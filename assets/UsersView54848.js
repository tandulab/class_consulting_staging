import{n as x,E as F,p as T,F as m,G as z,r,H as I,f as V,o as b,y as o,w as s,b as t,J as U,a as _,K as $,L as M,t as y}from"../index54848.js";import{T as g,u as k,_ as R}from"./LazyDataTable.vue_vue_type_script_setup_true_lang54848.js";const P={class:"flex items-center justify-center"},j=x({__name:"UsersTable",setup(S){const l=F(),a=T({full_name:{value:"",matchMode:g.LIKE},email:{value:"",matchMode:g.LIKE}}),{loadLazyData:f,isLoading:v,tableRows:u,onPage:c,onSort:E,onFilter:K}=k({rows:20},D),B=m(()=>l.allUsers),C=m(()=>l.totalUsers);async function D(w){await l.fetchUsers(w)}return z(()=>{f()}),(w,i)=>{const h=r("InputText"),d=r("Column"),L=r("Button"),N=I("tooltip");return b(),V(R,{"total-records":C.value,value:B.value,loading:o(v),rows:o(u),filters:a.value,"onUpdate:filters":i[0]||(i[0]=e=>a.value=e),onPage:o(c),onSort:o(E),onFilter:i[1]||(i[1]=()=>o(K)(a.value)),"empty-message":"Nessun utente trovato."},{default:s(()=>[t(d,{field:"full_name",header:"Nome",sortable:!0,showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1},{filter:s(({filterModel:e,filterCallback:p})=>[t(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,onKeydown:U(n=>p(),["enter"]),placeholder:"Filtra per nome"},null,8,["modelValue","onUpdate:modelValue","onKeydown"])]),_:1}),t(d,{field:"email",header:"Email",sortable:!0,showFilterMatchModes:!1,showFilterOperator:!1,showFilterMenu:!1},{filter:s(({filterModel:e,filterCallback:p})=>[t(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,onKeydown:U(n=>p(),["enter"]),placeholder:"Filtra per email"},null,8,["modelValue","onUpdate:modelValue","onKeydown"])]),_:1}),t(d,{class:"w-[50px]",alignFrozen:"right",frozen:""},{body:s(({data:e})=>[_("div",P,[$(t(L,{size:"small",type:"button",icon:"pi pi-arrow-right",text:"",rounded:"",as:"router-link",to:{name:o(M).USER_DETAIL,params:{id:e.id}}},null,8,["to"]),[[N,"Dettaglio",void 0,{top:!0}]])])]),_:1})]),_:1},8,["total-records","value","loading","rows","filters","onPage","onSort"])}}}),A={class:"flex flex-row flex-wrap gap-2 justify-between"},H=x({__name:"UsersView",setup(S){const l=F(),a=m(()=>l.totalUsers);return(f,v)=>{const u=r("Button"),c=r("Card");return b(),V(c,{class:"main-margin"},{title:s(()=>[_("div",A,[_("h2",null,y(a.value)+" "+y(a.value===1?"Utente":"Utenti"),1),t(u,{label:"Nuovo",icon:"pi pi-plus",class:"mr-2",as:"router-link",to:{name:o(M).USER_NEW}},null,8,["to"])])]),content:s(()=>[t(j)]),_:1})}}});export{H as default};
