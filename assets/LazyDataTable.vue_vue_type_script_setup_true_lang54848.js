import{p as u,n as g,r as w,f as F,o as _,w as l,d as L,a5 as b,t as k}from"../index54848.js";var c=(a=>(a.LIKE="like",a.EQ="eq",a))(c||{});const D=(a,n,d)=>{const o=u(!1),t={first:0,page:0,rows:a.rows,filters:void 0,sortField:void 0,sortOrder:void 0},p=function(){const s={};return t.filters&&Object.entries(t.filters).forEach(([i,e])=>{e.value&&(e.matchMode===c.LIKE?s[`${e.customFilterKey??i}_like`]=e.value:s[`${e.customFilterKey??i}_eq`]=e.value)}),s.page=t.page+1,s.limit=t.rows,t.sortField&&(s.sort_by=t.sortField,s.sort_direction=t.sortOrder===1?"asc":"desc"),s},r=async function(){o.value=!0;const s=p();try{await n(s)}finally{o.value=!1}},m=async function(s){t.page=0,t.filters=s,await r()},y=async s=>{const i=s.sortField&&typeof s.sortField=="string"?a?.customSortableFields?.[s.sortField]:null;t.sortField=i??s.sortField,t.sortOrder=s.sortOrder,await r()},f=async s=>{t.rows=s.rows,t.page=s.page,t.first=s.first,await r()};return{isLoading:o,tableRows:a.rows,onFilter:m,onSort:y,onPage:f,loadLazyData:r}},v=g({__name:"LazyDataTable",props:{emptyMessage:{}},setup(a){return(n,d)=>{const o=w("DataTable");return _(),F(o,{lazy:"",paginator:"",scrollable:"","striped-rows":"","paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink",filterDisplay:"row","removable-sort":""},{empty:l(()=>[b(k(a.emptyMessage),1)]),default:l(()=>[L(n.$slots,"default")]),_:3})}}});export{c as T,v as _,D as u};
