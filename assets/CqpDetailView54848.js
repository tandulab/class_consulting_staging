import{n as P,V as qt,F as J,W as Hn,p as L,Q as Ee,G as Bn,c as E,a as u,X as Pt,Z as Wt,_ as Yn,$ as dn,o as w,R as me,t as D,b as d,e as H,r as N,w as C,d as ai,y as h,z as we,a0 as Qn,f as B,a1 as ri,a2 as oi,a3 as li,a4 as ui,a5 as Gn,a6 as ci,a7 as it,a8 as di,a9 as fi,aa as mi,N as de,ab as hi,K as ve,ac as be,ad as fe,ae as nt,E as pi,M as gi,q as fn,L as mn,m as yi,af as _i}from"../index54848.js";import{_ as K,t as Jn}from"./InputtextWithValidation.vue_vue_type_script_setup_true_lang54848.js";import{b as Y,d as xe,c as ne,a as V,e as hn,f as Ut,g as Ne,u as jn,h as vi,i as bi}from"./vee-validate54848.js";import{u as Ze,c as wi,C as xi,a as Ci}from"./useClaimStore54848.js";import{_ as $e}from"./InputNumberWithValidation.vue_vue_type_script_setup_true_lang54848.js";import{u as Ti}from"./usePercentageField54848.js";const Si={class:"relative overflow-hidden"},ki={class:"p-0 m-0 list-none flex select-none min-w-max relative"},Ei=["onClick"],Oi=P({__name:"Tabbar",props:qt({tabs:{}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=n,t=J(()=>e.tabs?.filter(c=>c!==void 0)||[]),s=Hn(n,"modelValue"),i=L([]),a=L(null),r=L({width:"0px",transform:"translateX(0px)"}),o=async()=>{await dn();const c=s.value??0;if(i.value[c]){const f=i.value[c].querySelector("a");f&&(r.value={width:`${f.offsetWidth}px`,transform:`translateX(${f.offsetLeft}px)`})}},l=c=>{s.value=c,dn(()=>{if(i.value[c]){const f=i.value[c].querySelector("a"),m=a.value;f&&m&&(f.offsetLeft<m.scrollLeft?m.scrollTo({left:f.offsetLeft,behavior:"smooth"}):f.offsetLeft+f.offsetWidth>m.scrollLeft+m.offsetWidth&&m.scrollTo({left:f.offsetLeft-m.offsetWidth+f.offsetWidth,behavior:"smooth"}))}})};return Ee(s,o),Bn(o),(c,f)=>(w(),E("div",Si,[u("div",{ref_key:"scrollContainer",ref:a,class:"overflow-x-auto pb-2"},[u("ul",ki,[(w(!0),E(Pt,null,Wt(t.value,(m,_)=>(w(),E("li",{key:_,ref_for:!0,ref_key:"tabRefs",ref:i},[u("a",{class:me(["cursor-pointer px-6 py-3 flex items-center gap-2 transition-colors duration-150",{"text-sky-700 font-semibold":s.value===_,"text-surface-500 font-normal":s.value!==_}]),onClick:p=>l(_)},[u("span",{class:me({"text-red-500":m.hasErrors})},D(m.label),3),u("i",{class:me(["pi pi-exclamation-triangle text-red-500 invisible",{visible:m.hasErrors}])},null,2)],10,Ei)],512))),128)),u("div",{class:"absolute bottom-0 h-[2px] bg-sky-700 transition-transform duration-300 ease-in-out z-20",style:Yn(r.value)},null,4)])],512),f[0]||(f[0]=u("div",{class:"absolute bottom-2 left-0 w-full h-[2px] bg-surface-200"},null,-1))]))}});class Ae extends Error{}class Mi extends Ae{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Ii extends Ae{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Di extends Ae{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class We extends Ae{}class Kn extends Ae{constructor(e){super(`Invalid unit ${e}`)}}class Q extends Ae{}class Te extends Ae{constructor(){super("Zone is an abstract class")}}const g="numeric",ue="short",ee="long",vt={year:g,month:g,day:g},Xn={year:g,month:ue,day:g},Ni={year:g,month:ue,day:g,weekday:ue},es={year:g,month:ee,day:g},ts={year:g,month:ee,day:g,weekday:ee},ns={hour:g,minute:g},ss={hour:g,minute:g,second:g},is={hour:g,minute:g,second:g,timeZoneName:ue},as={hour:g,minute:g,second:g,timeZoneName:ee},rs={hour:g,minute:g,hourCycle:"h23"},os={hour:g,minute:g,second:g,hourCycle:"h23"},ls={hour:g,minute:g,second:g,hourCycle:"h23",timeZoneName:ue},us={hour:g,minute:g,second:g,hourCycle:"h23",timeZoneName:ee},cs={year:g,month:g,day:g,hour:g,minute:g},ds={year:g,month:g,day:g,hour:g,minute:g,second:g},fs={year:g,month:ue,day:g,hour:g,minute:g},ms={year:g,month:ue,day:g,hour:g,minute:g,second:g},$i={year:g,month:ue,day:g,weekday:ue,hour:g,minute:g},hs={year:g,month:ee,day:g,hour:g,minute:g,timeZoneName:ue},ps={year:g,month:ee,day:g,hour:g,minute:g,second:g,timeZoneName:ue},gs={year:g,month:ee,day:g,weekday:ee,hour:g,minute:g,timeZoneName:ee},ys={year:g,month:ee,day:g,weekday:ee,hour:g,minute:g,second:g,timeZoneName:ee};class rt{get type(){throw new Te}get name(){throw new Te}get ianaName(){return this.name}get isUniversal(){throw new Te}offsetName(e,t){throw new Te}formatOffset(e,t){throw new Te}offset(e){throw new Te}equals(e){throw new Te}get isValid(){throw new Te}}let Mt=null;class Ct extends rt{static get instance(){return Mt===null&&(Mt=new Ct),Mt}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return Os(e,t,s)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Rt=new Map;function Fi(n){let e=Rt.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Rt.set(n,e)),e}const Ai={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Vi(n,e){const t=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,a,r,o,l,c,f]=s;return[r,i,a,o,l,c,f]}function Li(n,e){const t=n.formatToParts(e),s=[];for(let i=0;i<t.length;i++){const{type:a,value:r}=t[i],o=Ai[a];a==="era"?s[o]=r:S(o)||(s[o]=parseInt(r,10))}return s}const It=new Map;class Ce extends rt{static create(e){let t=It.get(e);return t===void 0&&It.set(e,t=new Ce(e)),t}static resetCache(){It.clear(),Rt.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ce.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return Os(e,t,s,this.name)}formatOffset(e,t){return st(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const s=Fi(this.name);let[i,a,r,o,l,c,f]=s.formatToParts?Li(s,t):Vi(s,t);o==="BC"&&(i=-Math.abs(i)+1);const _=St({year:i,month:a,day:r,hour:l===24?0:l,minute:c,second:f,millisecond:0});let p=+t;const k=p%1e3;return p-=k>=0?k:1e3+k,(_-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let pn={};function qi(n,e={}){const t=JSON.stringify([n,e]);let s=pn[t];return s||(s=new Intl.ListFormat(n,e),pn[t]=s),s}const zt=new Map;function Zt(n,e={}){const t=JSON.stringify([n,e]);let s=zt.get(t);return s===void 0&&(s=new Intl.DateTimeFormat(n,e),zt.set(t,s)),s}const Ht=new Map;function Pi(n,e={}){const t=JSON.stringify([n,e]);let s=Ht.get(t);return s===void 0&&(s=new Intl.NumberFormat(n,e),Ht.set(t,s)),s}const Bt=new Map;function Wi(n,e={}){const{base:t,...s}=e,i=JSON.stringify([n,s]);let a=Bt.get(i);return a===void 0&&(a=new Intl.RelativeTimeFormat(n,e),Bt.set(i,a)),a}let Xe=null;function Ui(){return Xe||(Xe=new Intl.DateTimeFormat().resolvedOptions().locale,Xe)}const Yt=new Map;function _s(n){let e=Yt.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),Yt.set(n,e)),e}const Qt=new Map;function Ri(n){let e=Qt.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...vs,...e}),Qt.set(n,e)}return e}function zi(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let s,i;try{s=Zt(n).resolvedOptions(),i=n}catch{const l=n.substring(0,t);s=Zt(l).resolvedOptions(),i=l}const{numberingSystem:a,calendar:r}=s;return[i,a,r]}}function Zi(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function Hi(n){const e=[];for(let t=1;t<=12;t++){const s=T.utc(2009,t,1);e.push(n(s))}return e}function Bi(n){const e=[];for(let t=1;t<=7;t++){const s=T.utc(2016,11,13+t);e.push(n(s))}return e}function ct(n,e,t,s){const i=n.listingMode();return i==="error"?null:i==="en"?t(e):s(e)}function Yi(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||_s(n.locale).numberingSystem==="latn"}class Qi{constructor(e,t,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:i,floor:a,...r}=s;if(!t||Object.keys(r).length>0){const o={useGrouping:!1,...s};s.padTo>0&&(o.minimumIntegerDigits=s.padTo),this.inf=Pi(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):an(e,3);return Z(t,this.padTo)}}}class Gi{constructor(e,t,s){this.opts=s,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const r=-1*(e.offset/60),o=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;e.offset!==0&&Ce.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=Zt(t,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:s}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ji{constructor(e,t,s){this.opts={style:"long",...s},!t&&ks()&&(this.rtf=Wi(e,s))}format(e,t){return this.rtf?this.rtf.format(e,t):_a(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const vs={firstDay:1,minimalDays:4,weekend:[6,7]};class A{static fromOpts(e){return A.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,s,i,a=!1){const r=e||z.defaultLocale,o=r||(a?"en-US":Ui()),l=t||z.defaultNumberingSystem,c=s||z.defaultOutputCalendar,f=Jt(i)||z.defaultWeekSettings;return new A(o,l,c,f,r)}static resetCache(){Xe=null,zt.clear(),Ht.clear(),Bt.clear(),Yt.clear(),Qt.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:s,weekSettings:i}={}){return A.create(e,t,s,i)}constructor(e,t,s,i,a){const[r,o,l]=zi(e);this.locale=r,this.numberingSystem=t||o||null,this.outputCalendar=s||l||null,this.weekSettings=i,this.intl=Zi(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Yi(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:A.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Jt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return ct(this,e,Ds,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");t&=!s;const i=t?{month:e,day:"numeric"}:{month:e},a=t?"format":"standalone";if(!this.monthsCache[a][e]){const r=s?o=>this.dtFormatter(o,i).format():o=>this.extract(o,i,"month");this.monthsCache[a][e]=Hi(r)}return this.monthsCache[a][e]})}weekdays(e,t=!1){return ct(this,e,Fs,()=>{const s=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Bi(a=>this.extract(a,s,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return ct(this,void 0,()=>As,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[T.utc(2016,11,13,9),T.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ct(this,e,Vs,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[T.utc(-40,1,1),T.utc(2017,1,1)].map(s=>this.extract(s,t,"era"))),this.eraCache[e]})}extract(e,t,s){const i=this.dtFormatter(e,t),a=i.formatToParts(),r=a.find(o=>o.type.toLowerCase()===s);return r?r.value:null}numberFormatter(e={}){return new Qi(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Gi(e,this.intl,t)}relFormatter(e={}){return new Ji(this.intl,this.isEnglish(),e)}listFormatter(e={}){return qi(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||_s(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Es()?Ri(this.locale):vs}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Dt=null;class X extends rt{static get utcInstance(){return Dt===null&&(Dt=new X(0)),Dt}static instance(e){return e===0?X.utcInstance:new X(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new X(kt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${st(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${st(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return st(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class ji extends rt{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ke(n,e){if(S(n)||n===null)return e;if(n instanceof rt)return n;if(sa(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Ct.instance:t==="utc"||t==="gmt"?X.utcInstance:X.parseSpecifier(t)||Ce.create(n)}else return Oe(n)?X.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new ji(n)}const en={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},gn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ki=en.hanidec.replace(/[\[|\]]/g,"").split("");function Xi(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);if(n[t].search(en.hanidec)!==-1)e+=Ki.indexOf(n[t]);else for(const i in gn){const[a,r]=gn[i];s>=a&&s<=r&&(e+=s-a)}}return parseInt(e,10)}else return e}const Gt=new Map;function ea(){Gt.clear()}function ae({numberingSystem:n},e=""){const t=n||"latn";let s=Gt.get(t);s===void 0&&(s=new Map,Gt.set(t,s));let i=s.get(e);return i===void 0&&(i=new RegExp(`${en[t]}${e}`),s.set(e,i)),i}let yn=()=>Date.now(),_n="system",vn=null,bn=null,wn=null,xn=60,Cn,Tn=null;class z{static get now(){return yn}static set now(e){yn=e}static set defaultZone(e){_n=e}static get defaultZone(){return ke(_n,Ct.instance)}static get defaultLocale(){return vn}static set defaultLocale(e){vn=e}static get defaultNumberingSystem(){return bn}static set defaultNumberingSystem(e){bn=e}static get defaultOutputCalendar(){return wn}static set defaultOutputCalendar(e){wn=e}static get defaultWeekSettings(){return Tn}static set defaultWeekSettings(e){Tn=Jt(e)}static get twoDigitCutoffYear(){return xn}static set twoDigitCutoffYear(e){xn=e%100}static get throwOnInvalid(){return Cn}static set throwOnInvalid(e){Cn=e}static resetCaches(){A.resetCache(),Ce.resetCache(),T.resetCache(),ea()}}class oe{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const bs=[0,31,59,90,120,151,181,212,243,273,304,334],ws=[0,31,60,91,121,152,182,213,244,274,305,335];function se(n,e){return new oe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function tn(n,e,t){const s=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const i=s.getUTCDay();return i===0?7:i}function xs(n,e,t){return t+(ot(n)?ws:bs)[e-1]}function Cs(n,e){const t=ot(n)?ws:bs,s=t.findIndex(a=>a<e),i=e-t[s];return{month:s+1,day:i}}function nn(n,e){return(n-e+7)%7+1}function bt(n,e=4,t=1){const{year:s,month:i,day:a}=n,r=xs(s,i,a),o=nn(tn(s,i,a),t);let l=Math.floor((r-o+14-e)/7),c;return l<1?(c=s-1,l=at(c,e,t)):l>at(s,e,t)?(c=s+1,l=1):c=s,{weekYear:c,weekNumber:l,weekday:o,...Et(n)}}function Sn(n,e=4,t=1){const{weekYear:s,weekNumber:i,weekday:a}=n,r=nn(tn(s,1,e),t),o=Ue(s);let l=i*7+a-r-7+e,c;l<1?(c=s-1,l+=Ue(c)):l>o?(c=s+1,l-=Ue(s)):c=s;const{month:f,day:m}=Cs(c,l);return{year:c,month:f,day:m,...Et(n)}}function Nt(n){const{year:e,month:t,day:s}=n,i=xs(e,t,s);return{year:e,ordinal:i,...Et(n)}}function kn(n){const{year:e,ordinal:t}=n,{month:s,day:i}=Cs(e,t);return{year:e,month:s,day:i,...Et(n)}}function En(n,e){if(!S(n.localWeekday)||!S(n.localWeekNumber)||!S(n.localWeekYear)){if(!S(n.weekday)||!S(n.weekNumber)||!S(n.weekYear))throw new We("Cannot mix locale-based week fields with ISO-based week fields");return S(n.localWeekday)||(n.weekday=n.localWeekday),S(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),S(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ta(n,e=4,t=1){const s=Tt(n.weekYear),i=ie(n.weekNumber,1,at(n.weekYear,e,t)),a=ie(n.weekday,1,7);return s?i?a?!1:se("weekday",n.weekday):se("week",n.weekNumber):se("weekYear",n.weekYear)}function na(n){const e=Tt(n.year),t=ie(n.ordinal,1,Ue(n.year));return e?t?!1:se("ordinal",n.ordinal):se("year",n.year)}function Ts(n){const e=Tt(n.year),t=ie(n.month,1,12),s=ie(n.day,1,wt(n.year,n.month));return e?t?s?!1:se("day",n.day):se("month",n.month):se("year",n.year)}function Ss(n){const{hour:e,minute:t,second:s,millisecond:i}=n,a=ie(e,0,23)||e===24&&t===0&&s===0&&i===0,r=ie(t,0,59),o=ie(s,0,59),l=ie(i,0,999);return a?r?o?l?!1:se("millisecond",i):se("second",s):se("minute",t):se("hour",e)}function S(n){return typeof n>"u"}function Oe(n){return typeof n=="number"}function Tt(n){return typeof n=="number"&&n%1===0}function sa(n){return typeof n=="string"}function ia(n){return Object.prototype.toString.call(n)==="[object Date]"}function ks(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Es(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function aa(n){return Array.isArray(n)?n:[n]}function On(n,e,t){if(n.length!==0)return n.reduce((s,i)=>{const a=[e(i),i];return s&&t(s[0],a[0])===s[0]?s:a},null)[1]}function ra(n,e){return e.reduce((t,s)=>(t[s]=n[s],t),{})}function He(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jt(n){if(n==null)return null;if(typeof n!="object")throw new Q("Week settings must be an object");if(!ie(n.firstDay,1,7)||!ie(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!ie(e,1,7)))throw new Q("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function ie(n,e,t){return Tt(n)&&n>=e&&n<=t}function oa(n,e){return n-e*Math.floor(n/e)}function Z(n,e=2){const t=n<0;let s;return t?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function Se(n){if(!(S(n)||n===null||n===""))return parseInt(n,10)}function Ie(n){if(!(S(n)||n===null||n===""))return parseFloat(n)}function sn(n){if(!(S(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function an(n,e,t="round"){const s=10**e;switch(t){case"expand":return n>0?Math.ceil(n*s)/s:Math.floor(n*s)/s;case"trunc":return Math.trunc(n*s)/s;case"round":return Math.round(n*s)/s;case"floor":return Math.floor(n*s)/s;case"ceil":return Math.ceil(n*s)/s;default:throw new RangeError(`Value rounding ${t} is out of range`)}}function ot(n){return n%4===0&&(n%100!==0||n%400===0)}function Ue(n){return ot(n)?366:365}function wt(n,e){const t=oa(e-1,12)+1,s=n+(e-t)/12;return t===2?ot(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function St(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function Mn(n,e,t){return-nn(tn(n,1,e),t)+e-1}function at(n,e=4,t=1){const s=Mn(n,e,t),i=Mn(n+1,e,t);return(Ue(n)-s+i)/7}function jt(n){return n>99?n:n>z.twoDigitCutoffYear?1900+n:2e3+n}function Os(n,e,t,s=null){const i=new Date(n),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(a.timeZone=s);const r={timeZoneName:e,...a},o=new Intl.DateTimeFormat(t,r).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function kt(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const s=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-s:s;return t*60+i}function Ms(n){const e=Number(n);if(typeof n=="boolean"||n===""||!Number.isFinite(e))throw new Q(`Invalid unit value ${n}`);return e}function xt(n,e){const t={};for(const s in n)if(He(n,s)){const i=n[s];if(i==null)continue;t[e(s)]=Ms(i)}return t}function st(n,e){const t=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${Z(t,2)}:${Z(s,2)}`;case"narrow":return`${i}${t}${s>0?`:${s}`:""}`;case"techie":return`${i}${Z(t,2)}${Z(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Et(n){return ra(n,["hour","minute","second","millisecond"])}const la=["January","February","March","April","May","June","July","August","September","October","November","December"],Is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ua=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ds(n){switch(n){case"narrow":return[...ua];case"short":return[...Is];case"long":return[...la];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ns=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ca=["M","T","W","T","F","S","S"];function Fs(n){switch(n){case"narrow":return[...ca];case"short":return[...$s];case"long":return[...Ns];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const As=["AM","PM"],da=["Before Christ","Anno Domini"],fa=["BC","AD"],ma=["B","A"];function Vs(n){switch(n){case"narrow":return[...ma];case"short":return[...fa];case"long":return[...da];default:return null}}function ha(n){return As[n.hour<12?0:1]}function pa(n,e){return Fs(e)[n.weekday-1]}function ga(n,e){return Ds(e)[n.month-1]}function ya(n,e){return Vs(e)[n.year<0?0:1]}function _a(n,e,t="always",s=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&a){const m=n==="days";switch(e){case 1:return m?"tomorrow":`next ${i[n][0]}`;case-1:return m?"yesterday":`last ${i[n][0]}`;case 0:return m?"today":`this ${i[n][0]}`}}const r=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,c=i[n],f=s?l?c[1]:c[2]||c[1]:l?i[n][0]:n;return r?`${o} ${f} ago`:`in ${o} ${f}`}function In(n,e){let t="";for(const s of n)s.literal?t+=s.val:t+=e(s.val);return t}const va={D:vt,DD:Xn,DDD:es,DDDD:ts,t:ns,tt:ss,ttt:is,tttt:as,T:rs,TT:os,TTT:ls,TTTT:us,f:cs,ff:fs,fff:hs,ffff:gs,F:ds,FF:ms,FFF:ps,FFFF:ys};class G{static create(e,t={}){return new G(e,t)}static parseFormat(e){let t=null,s="",i=!1;const a=[];for(let r=0;r<e.length;r++){const o=e.charAt(r);o==="'"?((s.length>0||i)&&a.push({literal:i||/^\s+$/.test(s),val:s===""?"'":s}),t=null,s="",i=!i):i||o===t?s+=o:(s.length>0&&a.push({literal:/^\s+$/.test(s),val:s}),s=o,t=o)}return s.length>0&&a.push({literal:i||/^\s+$/.test(s),val:s}),a}static macroTokenToFormatOpts(e){return va[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,s=void 0){if(this.opts.forceSimple)return Z(e,t);const i={...this.opts};return t>0&&(i.padTo=t),s&&(i.signDisplay=s),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const s=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(p,k)=>this.loc.extract(e,p,k),r=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>s?ha(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,k)=>s?ga(e,p):a(k?{month:p}:{month:p,day:"numeric"},"month"),c=(p,k)=>s?pa(e,p):a(k?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),f=p=>{const k=G.macroTokenToFormatOpts(p);return k?this.formatWithSystemDefault(e,k):p},m=p=>s?ya(e,p):a({era:p},"era"),_=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(p)}};return In(G.parseFormat(t),_)}formatDurationFromString(e,t){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,i=f=>{switch(f[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},a=(f,m)=>_=>{const p=i(_);if(p){const k=m.isNegativeDuration&&p!==m.largestUnit?s:1;let v;return this.opts.signMode==="negativeLargestOnly"&&p!==m.largestUnit?v="never":this.opts.signMode==="all"?v="always":v="auto",this.num(f.get(p)*k,_.length,v)}else return _},r=G.parseFormat(t),o=r.reduce((f,{literal:m,val:_})=>m?f:f.concat(_),[]),l=e.shiftTo(...o.map(i).filter(f=>f)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return In(r,a(l,c))}}const Ls=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Be(...n){const e=n.reduce((t,s)=>t+s.source,"");return RegExp(`^${e}$`)}function Ye(...n){return e=>n.reduce(([t,s,i],a)=>{const[r,o,l]=a(e,i);return[{...t,...r},o||s,l]},[{},null,1]).slice(0,2)}function Qe(n,...e){if(n==null)return[null,null];for(const[t,s]of e){const i=t.exec(n);if(i)return s(i)}return[null,null]}function qs(...n){return(e,t)=>{const s={};let i;for(i=0;i<n.length;i++)s[n[i]]=Se(e[t+i]);return[s,null,t+i]}}const Ps=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,ba=`(?:${Ps.source}?(?:\\[(${Ls.source})\\])?)?`,rn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ws=RegExp(`${rn.source}${ba}`),on=RegExp(`(?:[Tt]${Ws.source})?`),wa=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,xa=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ca=/(\d{4})-?(\d{3})/,Ta=qs("weekYear","weekNumber","weekDay"),Sa=qs("year","ordinal"),ka=/(\d{4})-(\d\d)-(\d\d)/,Us=RegExp(`${rn.source} ?(?:${Ps.source}|(${Ls.source}))?`),Ea=RegExp(`(?: ${Us.source})?`);function Re(n,e,t){const s=n[e];return S(s)?t:Se(s)}function Oa(n,e){return[{year:Re(n,e),month:Re(n,e+1,1),day:Re(n,e+2,1)},null,e+3]}function Ge(n,e){return[{hours:Re(n,e,0),minutes:Re(n,e+1,0),seconds:Re(n,e+2,0),milliseconds:sn(n[e+3])},null,e+4]}function lt(n,e){const t=!n[e]&&!n[e+1],s=kt(n[e+1],n[e+2]),i=t?null:X.instance(s);return[{},i,e+3]}function ut(n,e){const t=n[e]?Ce.create(n[e]):null;return[{},t,e+1]}const Ma=RegExp(`^T?${rn.source}$`),Ia=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Da(n){const[e,t,s,i,a,r,o,l,c]=n,f=e[0]==="-",m=l&&l[0]==="-",_=(p,k=!1)=>p!==void 0&&(k||p&&f)?-p:p;return[{years:_(Ie(t)),months:_(Ie(s)),weeks:_(Ie(i)),days:_(Ie(a)),hours:_(Ie(r)),minutes:_(Ie(o)),seconds:_(Ie(l),l==="-0"),milliseconds:_(sn(c),m)}]}const Na={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ln(n,e,t,s,i,a,r){const o={year:e.length===2?jt(Se(e)):Se(e),month:Is.indexOf(t)+1,day:Se(s),hour:Se(i),minute:Se(a)};return r&&(o.second=Se(r)),n&&(o.weekday=n.length>3?Ns.indexOf(n)+1:$s.indexOf(n)+1),o}const $a=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Fa(n){const[,e,t,s,i,a,r,o,l,c,f,m]=n,_=ln(e,i,s,t,a,r,o);let p;return l?p=Na[l]:c?p=0:p=kt(f,m),[_,new X(p)]}function Aa(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Va=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,La=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qa=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Dn(n){const[,e,t,s,i,a,r,o]=n;return[ln(e,i,s,t,a,r,o),X.utcInstance]}function Pa(n){const[,e,t,s,i,a,r,o]=n;return[ln(e,o,t,s,i,a,r),X.utcInstance]}const Wa=Be(wa,on),Ua=Be(xa,on),Ra=Be(Ca,on),za=Be(Ws),Rs=Ye(Oa,Ge,lt,ut),Za=Ye(Ta,Ge,lt,ut),Ha=Ye(Sa,Ge,lt,ut),Ba=Ye(Ge,lt,ut);function Ya(n){return Qe(n,[Wa,Rs],[Ua,Za],[Ra,Ha],[za,Ba])}function Qa(n){return Qe(Aa(n),[$a,Fa])}function Ga(n){return Qe(n,[Va,Dn],[La,Dn],[qa,Pa])}function Ja(n){return Qe(n,[Ia,Da])}const ja=Ye(Ge);function Ka(n){return Qe(n,[Ma,ja])}const Xa=Be(ka,Ea),er=Be(Us),tr=Ye(Ge,lt,ut);function nr(n){return Qe(n,[Xa,Rs],[er,tr])}const Nn="Invalid Duration",zs={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sr={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...zs},te=146097/400,Le=146097/4800,ir={years:{quarters:4,months:12,weeks:te/7,days:te,hours:te*24,minutes:te*24*60,seconds:te*24*60*60,milliseconds:te*24*60*60*1e3},quarters:{months:3,weeks:te/28,days:te/4,hours:te*24/4,minutes:te*24*60/4,seconds:te*24*60*60/4,milliseconds:te*24*60*60*1e3/4},months:{weeks:Le/7,days:Le,hours:Le*24,minutes:Le*24*60,seconds:Le*24*60*60,milliseconds:Le*24*60*60*1e3},...zs},Fe=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ar=Fe.slice(0).reverse();function _e(n,e,t=!1){const s={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new I(s)}function Zs(n,e){let t=e.milliseconds??0;for(const s of ar.slice(1))e[s]&&(t+=e[s]*n[s].milliseconds);return t}function $n(n,e){const t=Zs(n,e)<0?-1:1;Fe.reduceRight((s,i)=>{if(S(e[i]))return s;if(s){const a=e[s]*t,r=n[i][s],o=Math.floor(a/r);e[i]+=o*t,e[s]-=o*r*t}return i},null),Fe.reduce((s,i)=>{if(S(e[i]))return s;if(s){const a=e[s]%1;e[s]-=a,e[i]+=a*n[s][i]}return i},null)}function Fn(n){const e={};for(const[t,s]of Object.entries(n))s!==0&&(e[t]=s);return e}class I{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let s=t?ir:sr;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||A.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,t){return I.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Q(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new I({values:xt(e,I.normalizeUnit),loc:A.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Oe(e))return I.fromMillis(e);if(I.isDuration(e))return e;if(typeof e=="object")return I.fromObject(e);throw new Q(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[s]=Ja(e);return s?I.fromObject(s,t):I.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[s]=Ka(e);return s?I.fromObject(s,t):I.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Q("need to specify a reason the Duration is invalid");const s=e instanceof oe?e:new oe(e,t);if(z.throwOnInvalid)throw new Di(s);return new I({invalid:s})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Kn(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const s={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?G.create(this.loc,s).formatDurationFromString(this,e):Nn}toHuman(e={}){if(!this.isValid)return Nn;const t=e.showZeros!==!1,s=Fe.map(i=>{const a=this.values[i];return S(a)||a===0&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(a)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=an(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},T.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Zs(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=I.fromDurationLike(e),s={};for(const i of Fe)(He(t.values,i)||He(this.values,i))&&(s[i]=t.get(i)+this.get(i));return _e(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const t=I.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const s of Object.keys(this.values))t[s]=Ms(e(this.values[s],s));return _e(this,{values:t},!0)}get(e){return this[I.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...xt(e,I.normalizeUnit)};return _e(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:s,matrix:i}={}){const r={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:s};return _e(this,r)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return $n(this.matrix,e),_e(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Fn(this.normalize().shiftToAll().toObject());return _e(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(r=>I.normalizeUnit(r));const t={},s={},i=this.toObject();let a;for(const r of Fe)if(e.indexOf(r)>=0){a=r;let o=0;for(const c in s)o+=this.matrix[c][r]*s[c],s[c]=0;Oe(i[r])&&(o+=i[r]);const l=Math.trunc(o);t[r]=l,s[r]=(o*1e3-l*1e3)/1e3}else Oe(i[r])&&(s[r]=i[r]);for(const r in s)s[r]!==0&&(t[a]+=r===a?s[r]:s[r]/this.matrix[a][r]);return $n(this.matrix,t),_e(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return _e(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=Fn(this.values);return _e(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(s,i){return s===void 0||s===0?i===void 0||i===0:s===i}for(const s of Fe)if(!t(this.values[s],e.values[s]))return!1;return!0}}const qe="Invalid Interval";function rr(n,e){return!n||!n.isValid?R.invalid("missing or invalid start"):!e||!e.isValid?R.invalid("missing or invalid end"):e<n?R.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class R{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Q("need to specify a reason the Interval is invalid");const s=e instanceof oe?e:new oe(e,t);if(z.throwOnInvalid)throw new Ii(s);return new R({invalid:s})}static fromDateTimes(e,t){const s=je(e),i=je(t),a=rr(s,i);return a??new R({start:s,end:i})}static after(e,t){const s=I.fromDurationLike(t),i=je(e);return R.fromDateTimes(i,i.plus(s))}static before(e,t){const s=I.fromDurationLike(t),i=je(e);return R.fromDateTimes(i.minus(s),i)}static fromISO(e,t){const[s,i]=(e||"").split("/",2);if(s&&i){let a,r;try{a=T.fromISO(s,t),r=a.isValid}catch{r=!1}let o,l;try{o=T.fromISO(i,t),l=o.isValid}catch{l=!1}if(r&&l)return R.fromDateTimes(a,o);if(r){const c=I.fromISO(i,t);if(c.isValid)return R.after(a,c)}else if(l){const c=I.fromISO(s,t);if(c.isValid)return R.before(o,c)}}return R.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const s=this.start.startOf(e,t);let i;return t?.useLocaleWeeks?i=this.end.reconfigure({locale:s.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(s,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?R.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(je).filter(r=>this.contains(r)).sort((r,o)=>r.toMillis()-o.toMillis()),s=[];let{s:i}=this,a=0;for(;i<this.e;){const r=t[a]||this.e,o=+r>+this.e?this.e:r;s.push(R.fromDateTimes(i,o)),i=o,a+=1}return s}splitBy(e){const t=I.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s}=this,i=1,a;const r=[];for(;s<this.e;){const o=this.start.plus(t.mapUnits(l=>l*i));a=+o>+this.e?this.e:o,r.push(R.fromDateTimes(s,a)),s=a,i+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return t>=s?null:R.fromDateTimes(t,s)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return R.fromDateTimes(t,s)}static merge(e){const[t,s]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],r)=>a?a.overlaps(r)||a.abutsStart(r)?[i,a.union(r)]:[i.concat([a]),r]:[i,r],[[],null]);return s&&t.push(s),t}static xor(e){let t=null,s=0;const i=[],a=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),r=Array.prototype.concat(...a),o=r.sort((l,c)=>l.time-c.time);for(const l of o)s+=l.type==="s"?1:-1,s===1?t=l.time:(t&&+t!=+l.time&&i.push(R.fromDateTimes(t,l.time)),t=null);return R.merge(i)}difference(...e){return R.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:qe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=vt,t={}){return this.isValid?G.create(this.s.loc.clone(t),e).formatInterval(this):qe}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:qe}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:qe}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:qe}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:qe}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):I.invalid(this.invalidReason)}mapEndpoints(e){return R.fromDateTimes(e(this.s),e(this.e))}}class dt{static hasDST(e=z.defaultZone){const t=T.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ce.isValidZone(e)}static normalizeZone(e){return ke(e,z.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||A.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||A.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||A.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:s=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||A.create(t,s,a)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||A.create(t,s,a)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:s=null,locObj:i=null}={}){return(i||A.create(t,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:i=null}={}){return(i||A.create(t,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return A.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return A.create(t,null,"gregory").eras(e)}static features(){return{relative:ks(),localeWeek:Es()}}}function An(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=t(e)-t(n);return Math.floor(I.fromMillis(s).as("days"))}function or(n,e,t){const s=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=An(l,c);return(f-f%7)/7}],["days",An]],i={},a=n;let r,o;for(const[l,c]of s)t.indexOf(l)>=0&&(r=l,i[l]=c(n,e),o=a.plus(i),o>e?(i[l]--,n=a.plus(i),n>e&&(o=n,i[l]--,n=a.plus(i))):n=o);return[n,i,o,r]}function lr(n,e,t,s){let[i,a,r,o]=or(n,e,t);const l=e-i,c=t.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);c.length===0&&(r<e&&(r=i.plus({[o]:1})),r!==i&&(a[o]=(a[o]||0)+l/(r-i)));const f=I.fromObject(a,s);return c.length>0?I.fromMillis(l,s).shiftTo(...c).plus(f):f}const ur="missing Intl.DateTimeFormat.formatToParts support";function $(n,e=t=>t){return{regex:n,deser:([t])=>e(Xi(t))}}const cr=" ",Hs=`[ ${cr}]`,Bs=new RegExp(Hs,"g");function dr(n){return n.replace(/\./g,"\\.?").replace(Bs,Hs)}function Vn(n){return n.replace(/\./g,"").replace(Bs," ").toLowerCase()}function re(n,e){return n===null?null:{regex:RegExp(n.map(dr).join("|")),deser:([t])=>n.findIndex(s=>Vn(t)===Vn(s))+e}}function Ln(n,e){return{regex:n,deser:([,t,s])=>kt(t,s),groups:e}}function ft(n){return{regex:n,deser:([e])=>e}}function fr(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mr(n,e){const t=ae(e),s=ae(e,"{2}"),i=ae(e,"{3}"),a=ae(e,"{4}"),r=ae(e,"{6}"),o=ae(e,"{1,2}"),l=ae(e,"{1,3}"),c=ae(e,"{1,6}"),f=ae(e,"{1,9}"),m=ae(e,"{2,4}"),_=ae(e,"{4,6}"),p=x=>({regex:RegExp(fr(x.val)),deser:([b])=>b,literal:!0}),v=(x=>{if(n.literal)return p(x);switch(x.val){case"G":return re(e.eras("short"),0);case"GG":return re(e.eras("long"),0);case"y":return $(c);case"yy":return $(m,jt);case"yyyy":return $(a);case"yyyyy":return $(_);case"yyyyyy":return $(r);case"M":return $(o);case"MM":return $(s);case"MMM":return re(e.months("short",!0),1);case"MMMM":return re(e.months("long",!0),1);case"L":return $(o);case"LL":return $(s);case"LLL":return re(e.months("short",!1),1);case"LLLL":return re(e.months("long",!1),1);case"d":return $(o);case"dd":return $(s);case"o":return $(l);case"ooo":return $(i);case"HH":return $(s);case"H":return $(o);case"hh":return $(s);case"h":return $(o);case"mm":return $(s);case"m":return $(o);case"q":return $(o);case"qq":return $(s);case"s":return $(o);case"ss":return $(s);case"S":return $(l);case"SSS":return $(i);case"u":return ft(f);case"uu":return ft(o);case"uuu":return $(t);case"a":return re(e.meridiems(),0);case"kkkk":return $(a);case"kk":return $(m,jt);case"W":return $(o);case"WW":return $(s);case"E":case"c":return $(t);case"EEE":return re(e.weekdays("short",!1),1);case"EEEE":return re(e.weekdays("long",!1),1);case"ccc":return re(e.weekdays("short",!0),1);case"cccc":return re(e.weekdays("long",!0),1);case"Z":case"ZZ":return Ln(new RegExp(`([+-]${o.source})(?::(${s.source}))?`),2);case"ZZZ":return Ln(new RegExp(`([+-]${o.source})(${s.source})?`),2);case"z":return ft(/[a-z_+-/]{1,256}?/i);case" ":return ft(/[^\S\n\r]/);default:return p(x)}})(n)||{invalidReason:ur};return v.token=n,v}const hr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function pr(n,e,t){const{type:s,value:i}=n;if(s==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const a=e[s];let r=s;s==="hour"&&(e.hour12!=null?r=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?r="hour12":r="hour24":r=t.hour12?"hour12":"hour24");let o=hr[r];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function gr(n){return[`^${n.map(t=>t.regex).reduce((t,s)=>`${t}(${s.source})`,"")}$`,n]}function yr(n,e,t){const s=n.match(e);if(s){const i={};let a=1;for(const r in t)if(He(t,r)){const o=t[r],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(s.slice(a,a+l))),a+=l}return[s,i]}else return[s,{}]}function _r(n){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,s;return S(n.z)||(t=Ce.create(n.z)),S(n.Z)||(t||(t=new X(n.Z)),s=n.Z),S(n.q)||(n.M=(n.q-1)*3+1),S(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),S(n.u)||(n.S=sn(n.u)),[Object.keys(n).reduce((a,r)=>{const o=e(r);return o&&(a[o]=n[r]),a},{}),t,s]}let $t=null;function vr(){return $t||($t=T.fromMillis(1555555555555)),$t}function br(n,e){if(n.literal)return n;const t=G.macroTokenToFormatOpts(n.val),s=Js(t,e);return s==null||s.includes(void 0)?n:s}function Ys(n,e){return Array.prototype.concat(...n.map(t=>br(t,e)))}class Qs{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Ys(G.parseFormat(t),e),this.units=this.tokens.map(s=>mr(s,e)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,i]=gr(this.units);this.regex=RegExp(s,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[t,s]=yr(e,this.regex,this.handlers),[i,a,r]=s?_r(s):[null,null,void 0];if(He(s,"a")&&He(s,"H"))throw new We("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:s,result:i,zone:a,specificOffset:r}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Gs(n,e,t){return new Qs(n,t).explainFromTokens(e)}function wr(n,e,t){const{result:s,zone:i,specificOffset:a,invalidReason:r}=Gs(n,e,t);return[s,i,a,r]}function Js(n,e){if(!n)return null;const s=G.create(e,n).dtFormatter(vr()),i=s.formatToParts(),a=s.resolvedOptions();return i.map(r=>pr(r,n,a))}const Ft="Invalid DateTime",qn=864e13;function et(n){return new oe("unsupported zone",`the zone "${n.name}" is not supported`)}function At(n){return n.weekData===null&&(n.weekData=bt(n.c)),n.weekData}function Vt(n){return n.localWeekData===null&&(n.localWeekData=bt(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function De(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new T({...t,...e,old:t})}function js(n,e,t){let s=n-e*60*1e3;const i=t.offset(s);if(e===i)return[s,e];s-=(i-e)*60*1e3;const a=t.offset(s);return i===a?[s,i]:[n-Math.min(i,a)*60*1e3,Math.max(i,a)]}function mt(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function pt(n,e,t){return js(St(n),e,t)}function Pn(n,e){const t=n.o,s=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...n.c,year:s,month:i,day:Math.min(n.c.day,wt(s,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},r=I.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=St(a);let[l,c]=js(o,t,n.zone);return r!==0&&(l+=r,c=n.zone.offset(l)),{ts:l,o:c}}function Pe(n,e,t,s,i,a){const{setZone:r,zone:o}=t;if(n&&Object.keys(n).length!==0||e){const l=e||o,c=T.fromObject(n,{...t,zone:l,specificOffset:a});return r?c:c.setZone(o)}else return T.invalid(new oe("unparsable",`the input "${i}" can't be parsed as ${s}`))}function ht(n,e,t=!0){return n.isValid?G.create(A.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Lt(n,e,t){const s=n.c.year>9999||n.c.year<0;let i="";if(s&&n.c.year>=0&&(i+="+"),i+=Z(n.c.year,s?6:4),t==="year")return i;if(e){if(i+="-",i+=Z(n.c.month),t==="month")return i;i+="-"}else if(i+=Z(n.c.month),t==="month")return i;return i+=Z(n.c.day),i}function Wn(n,e,t,s,i,a,r){let o=!t||n.c.millisecond!==0||n.c.second!==0,l="";switch(r){case"day":case"month":case"year":break;default:if(l+=Z(n.c.hour),r==="hour")break;if(e){if(l+=":",l+=Z(n.c.minute),r==="minute")break;o&&(l+=":",l+=Z(n.c.second))}else{if(l+=Z(n.c.minute),r==="minute")break;o&&(l+=Z(n.c.second))}if(r==="second")break;o&&(!s||n.c.millisecond!==0)&&(l+=".",l+=Z(n.c.millisecond,3))}return i&&(n.isOffsetFixed&&n.offset===0&&!a?l+="Z":n.o<0?(l+="-",l+=Z(Math.trunc(-n.o/60)),l+=":",l+=Z(Math.trunc(-n.o%60))):(l+="+",l+=Z(Math.trunc(n.o/60)),l+=":",l+=Z(Math.trunc(n.o%60)))),a&&(l+="["+n.zone.ianaName+"]"),l}const Ks={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},xr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Cr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},gt=["year","month","day","hour","minute","second","millisecond"],Tr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Sr=["year","ordinal","hour","minute","second","millisecond"];function yt(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Kn(n);return e}function Un(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return yt(n)}}function kr(n){if(tt===void 0&&(tt=z.now()),n.type!=="iana")return n.offset(tt);const e=n.name;let t=Kt.get(e);return t===void 0&&(t=n.offset(tt),Kt.set(e,t)),t}function Rn(n,e){const t=ke(e.zone,z.defaultZone);if(!t.isValid)return T.invalid(et(t));const s=A.fromObject(e);let i,a;if(S(n.year))i=z.now();else{for(const l of gt)S(n[l])&&(n[l]=Ks[l]);const r=Ts(n)||Ss(n);if(r)return T.invalid(r);const o=kr(t);[i,a]=pt(n,o,t)}return new T({ts:i,zone:t,loc:s,o:a})}function zn(n,e,t){const s=S(t.round)?!0:t.round,i=S(t.rounding)?"trunc":t.rounding,a=(o,l)=>(o=an(o,s||t.calendary?0:2,t.calendary?"round":i),e.loc.clone(t).relFormatter(t).format(o,l)),r=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return a(r(t.unit),t.unit);for(const o of t.units){const l=r(o);if(Math.abs(l)>=1)return a(l,o)}return a(n>e?-0:0,t.units[t.units.length-1])}function Zn(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let tt;const Kt=new Map;class T{constructor(e){const t=e.zone||z.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new oe("invalid input"):null)||(t.isValid?null:et(t));this.ts=S(e.ts)?z.now():e.ts;let i=null,a=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,a]=[e.old.c,e.old.o];else{const o=Oe(e.o)&&!e.old?e.o:t.offset(this.ts);i=mt(this.ts,o),s=Number.isNaN(i.year)?new oe("invalid input"):null,i=s?null:i,a=s?null:o}this._zone=t,this.loc=e.loc||A.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new T({})}static local(){const[e,t]=Zn(arguments),[s,i,a,r,o,l,c]=t;return Rn({year:s,month:i,day:a,hour:r,minute:o,second:l,millisecond:c},e)}static utc(){const[e,t]=Zn(arguments),[s,i,a,r,o,l,c]=t;return e.zone=X.utcInstance,Rn({year:s,month:i,day:a,hour:r,minute:o,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const s=ia(e)?e.valueOf():NaN;if(Number.isNaN(s))return T.invalid("invalid input");const i=ke(t.zone,z.defaultZone);return i.isValid?new T({ts:s,zone:i,loc:A.fromObject(t)}):T.invalid(et(i))}static fromMillis(e,t={}){if(Oe(e))return e<-qn||e>qn?T.invalid("Timestamp out of range"):new T({ts:e,zone:ke(t.zone,z.defaultZone),loc:A.fromObject(t)});throw new Q(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Oe(e))return new T({ts:e*1e3,zone:ke(t.zone,z.defaultZone),loc:A.fromObject(t)});throw new Q("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const s=ke(t.zone,z.defaultZone);if(!s.isValid)return T.invalid(et(s));const i=A.fromObject(t),a=xt(e,Un),{minDaysInFirstWeek:r,startOfWeek:o}=En(a,i),l=z.now(),c=S(t.specificOffset)?s.offset(l):t.specificOffset,f=!S(a.ordinal),m=!S(a.year),_=!S(a.month)||!S(a.day),p=m||_,k=a.weekYear||a.weekNumber;if((p||f)&&k)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&f)throw new We("Can't mix ordinal dates with month/day");const v=k||a.weekday&&!p;let x,b,y=mt(l,c);v?(x=Tr,b=xr,y=bt(y,r,o)):f?(x=Sr,b=Cr,y=Nt(y)):(x=gt,b=Ks);let q=!1;for(const O of x){const j=a[O];S(j)?q?a[O]=b[O]:a[O]=y[O]:q=!0}const W=v?ta(a,r,o):f?na(a):Ts(a),M=W||Ss(a);if(M)return T.invalid(M);const U=v?Sn(a,r,o):f?kn(a):a,[he,Ve]=pt(U,c,s),pe=new T({ts:he,zone:s,o:Ve,loc:i});return a.weekday&&p&&e.weekday!==pe.weekday?T.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${pe.toISO()}`):pe.isValid?pe:T.invalid(pe.invalid)}static fromISO(e,t={}){const[s,i]=Ya(e);return Pe(s,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[s,i]=Qa(e);return Pe(s,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[s,i]=Ga(e);return Pe(s,i,t,"HTTP",t)}static fromFormat(e,t,s={}){if(S(e)||S(t))throw new Q("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=s,r=A.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[o,l,c,f]=wr(r,e,t);return f?T.invalid(f):Pe(o,l,s,`format ${t}`,e,c)}static fromString(e,t,s={}){return T.fromFormat(e,t,s)}static fromSQL(e,t={}){const[s,i]=nr(e);return Pe(s,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Q("need to specify a reason the DateTime is invalid");const s=e instanceof oe?e:new oe(e,t);if(z.throwOnInvalid)throw new Mi(s);return new T({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const s=Js(e,A.fromObject(t));return s?s.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return Ys(G.parseFormat(e),A.fromObject(t)).map(i=>i.val).join("")}static resetCache(){tt=void 0,Kt.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?At(this).weekYear:NaN}get weekNumber(){return this.isValid?At(this).weekNumber:NaN}get weekday(){return this.isValid?At(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Vt(this).weekday:NaN}get localWeekNumber(){return this.isValid?Vt(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Vt(this).weekYear:NaN}get ordinal(){return this.isValid?Nt(this.c).ordinal:NaN}get monthShort(){return this.isValid?dt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,s=St(this.c),i=this.zone.offset(s-e),a=this.zone.offset(s+e),r=this.zone.offset(s-i*t),o=this.zone.offset(s-a*t);if(r===o)return[this];const l=s-r*t,c=s-o*t,f=mt(l,r),m=mt(c,o);return f.hour===m.hour&&f.minute===m.minute&&f.second===m.second&&f.millisecond===m.millisecond?[De(this,{ts:l}),De(this,{ts:c})]:[this]}get isInLeapYear(){return ot(this.year)}get daysInMonth(){return wt(this.year,this.month)}get daysInYear(){return this.isValid?Ue(this.year):NaN}get weeksInWeekYear(){return this.isValid?at(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?at(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:s,calendar:i}=G.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:s,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(X.instance(e),t)}toLocal(){return this.setZone(z.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:s=!1}={}){if(e=ke(e,z.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||s){const a=e.offset(this.ts),r=this.toObject();[i]=pt(r,a,e)}return De(this,{ts:i,zone:e})}else return T.invalid(et(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:s}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:s});return De(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=xt(e,Un),{minDaysInFirstWeek:s,startOfWeek:i}=En(t,this.loc),a=!S(t.weekYear)||!S(t.weekNumber)||!S(t.weekday),r=!S(t.ordinal),o=!S(t.year),l=!S(t.month)||!S(t.day),c=o||l,f=t.weekYear||t.weekNumber;if((c||r)&&f)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&r)throw new We("Can't mix ordinal dates with month/day");let m;a?m=Sn({...bt(this.c,s,i),...t},s,i):S(t.ordinal)?(m={...this.toObject(),...t},S(t.day)&&(m.day=Math.min(wt(m.year,m.month),m.day))):m=kn({...Nt(this.c),...t});const[_,p]=pt(m,this.o,this.zone);return De(this,{ts:_,o:p})}plus(e){if(!this.isValid)return this;const t=I.fromDurationLike(e);return De(this,Pn(this,t))}minus(e){if(!this.isValid)return this;const t=I.fromDurationLike(e).negate();return De(this,Pn(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const s={},i=I.normalizeUnit(e);switch(i){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(i==="weeks")if(t){const a=this.loc.getStartOfWeek(),{weekday:r}=this;r<a&&(s.weekNumber=this.weekNumber-1),s.weekday=a}else s.weekday=1;if(i==="quarters"){const a=Math.ceil(this.month/3);s.month=(a-1)*3+1}return this.set(s)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?G.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Ft}toLocaleString(e=vt,t={}){return this.isValid?G.create(this.loc.clone(t),e).formatDateTime(this):Ft}toLocaleParts(e={}){return this.isValid?G.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:s=!1,includeOffset:i=!0,extendedZone:a=!1,precision:r="milliseconds"}={}){if(!this.isValid)return null;r=yt(r);const o=e==="extended";let l=Lt(this,o,r);return gt.indexOf(r)>=3&&(l+="T"),l+=Wn(this,o,t,s,i,a,r),l}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?Lt(this,e==="extended",yt(t)):null}toISOWeekDate(){return ht(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:s=!0,includePrefix:i=!1,extendedZone:a=!1,format:r="extended",precision:o="milliseconds"}={}){return this.isValid?(o=yt(o),(i&&gt.indexOf(o)>=3?"T":"")+Wn(this,r==="extended",t,e,s,a,o)):null}toRFC2822(){return ht(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ht(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Lt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:s=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(s&&(i+=" "),t?i+="z":e&&(i+="ZZ")),ht(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ft}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",s={}){if(!this.isValid||!e.isValid)return I.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...s},a=aa(t).map(I.normalizeUnit),r=e.valueOf()>this.valueOf(),o=r?this:e,l=r?e:this,c=lr(o,l,a,i);return r?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(T.now(),e,t)}until(e){return this.isValid?R.fromDateTimes(this,e):this}hasSame(e,t,s){if(!this.isValid)return!1;const i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(t,s)<=i&&i<=a.endOf(t,s)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||T.fromObject({},{zone:this.zone}),s=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),zn(t,this.plus(s),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?zn(e.base||T.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(T.isDateTime))throw new Q("min requires all arguments be DateTimes");return On(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(T.isDateTime))throw new Q("max requires all arguments be DateTimes");return On(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,s={}){const{locale:i=null,numberingSystem:a=null}=s,r=A.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return Gs(r,e,t)}static fromStringExplain(e,t,s={}){return T.fromFormatExplain(e,t,s)}static buildFormatParser(e,t={}){const{locale:s=null,numberingSystem:i=null}=t,a=A.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return new Qs(a,e)}static fromFormatParser(e,t,s={}){if(S(e)||S(t))throw new Q("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:a=null}=s,r=A.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});if(!r.equals(t.locale))throw new Q(`fromFormatParser called with a locale of ${r}, but the format parser was created for ${t.locale}`);const{result:o,zone:l,specificOffset:c,invalidReason:f}=t.explainFromTokens(e);return f?T.invalid(f):Pe(o,l,s,`format ${t.format}`,e,c)}static get DATE_SHORT(){return vt}static get DATE_MED(){return Xn}static get DATE_MED_WITH_WEEKDAY(){return Ni}static get DATE_FULL(){return es}static get DATE_HUGE(){return ts}static get TIME_SIMPLE(){return ns}static get TIME_WITH_SECONDS(){return ss}static get TIME_WITH_SHORT_OFFSET(){return is}static get TIME_WITH_LONG_OFFSET(){return as}static get TIME_24_SIMPLE(){return rs}static get TIME_24_WITH_SECONDS(){return os}static get TIME_24_WITH_SHORT_OFFSET(){return ls}static get TIME_24_WITH_LONG_OFFSET(){return us}static get DATETIME_SHORT(){return cs}static get DATETIME_SHORT_WITH_SECONDS(){return ds}static get DATETIME_MED(){return fs}static get DATETIME_MED_WITH_SECONDS(){return ms}static get DATETIME_MED_WITH_WEEKDAY(){return $i}static get DATETIME_FULL(){return hs}static get DATETIME_FULL_WITH_SECONDS(){return ps}static get DATETIME_HUGE(){return gs}static get DATETIME_HUGE_WITH_SECONDS(){return ys}}function je(n){if(T.isDateTime(n))return n;if(n&&n.valueOf&&Oe(n.valueOf()))return T.fromJSDate(n);if(n&&typeof n=="object")return T.fromObject(n);throw new Q(`Unknown datetime argument: ${n}, of type ${typeof n}`)}function Er(n){return T.fromJSDate(n).toFormat("yyyy-LL-dd")}function Or(n){return new Date(n)}const Mr={class:"flex flex-col gap-1"},Ir=["for"],Dr={class:"flex flex-col"},Nr={key:0,class:"text-red-500"},Me=P({__name:"CalendarWithValidation",props:{id:{},name:{},label:{},disabled:{type:Boolean},showTime:{type:Boolean}},setup(n){const e=n,{value:t,errorMessage:s}=Y(()=>e.name?e.name:""),i=J({get:()=>t.value?Or(t.value):null,set:a=>{t.value=a?Er(a):null}});return(a,r)=>{const o=N("DatePicker"),l=N("InputGroup");return w(),E("div",Mr,[u("label",{for:n.id,class:"font-medium text-surface-900"},D(n.label),9,Ir),u("div",Dr,[d(l,null,{default:C(()=>[ai(a.$slots,"prefixAddon"),d(o,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=c=>i.value=c),name:n.name,invalid:!!h(s),"input-id":n.id,disabled:n.disabled,placeholder:"gg/mm/aaaa","manual-input":!1,"show-time":n.showTime,"hour-format":"24",fluid:""},null,8,["modelValue","name","invalid","input-id","disabled","show-time"])]),_:3}),h(s)?(w(),E("small",Nr,D(h(s)),1)):H("",!0)])])}}}),$r={class:"flex flex-col gap-1"},Fr=["for"],Ar={class:"flex flex-col"},Vr={key:0,class:"text-red-500"},Lr=P({__name:"DropdownWithValidation",props:{type:{default:"text"},id:{},label:{},optionLabel:{},optionValue:{},showClear:{type:Boolean},disabled:{type:Boolean},options:{},name:{}},setup(n){const e=n,{value:t,errorMessage:s}=Y(()=>e.name?e.name:"");return(i,a)=>{const r=N("Select");return w(),E("div",$r,[u("label",{for:n.id,class:"font-medium text-surface-900"},D(n.label),9,Fr),u("div",Ar,[d(r,{id:n.id,type:n.type,modelValue:h(t),"onUpdate:modelValue":a[0]||(a[0]=o=>we(t)?t.value=o:null),invalid:!!h(s),fluid:"",disabled:n.disabled,options:n.options,"option-label":n.optionLabel,"option-value":n.optionValue,showClear:n.showClear,name:n.name},null,8,["id","type","modelValue","invalid","disabled","options","option-label","option-value","showClear","name"]),h(s)?(w(),E("small",Vr,D(h(s)),1)):H("",!0)])])}}}),qr={class:"flex flex-col gap-1"},Pr=["for"],Wr={class:"flex flex-col"},Ur={key:0,class:"text-red-500"},ze=P({__name:"AutoCompleteWithValidation",props:{type:{default:"text"},id:{},label:{},name:{},suggestions:{},optionLabel:{},dropdown:{type:Boolean},forceSelection:{type:Boolean}},emits:["complete"],setup(n){const e=n,{value:t,errorMessage:s,setValue:i}=Y(()=>e.name?e.name:"");return(a,r)=>{const o=N("AutoComplete");return w(),E("div",qr,[u("label",{for:n.id,class:"font-medium text-surface-900"},D(n.label),9,Pr),u("div",Wr,[d(o,{"model-value":h(t),id:n.id,type:n.type,invalid:!!h(s),fluid:"",dropdown:n.dropdown,suggestions:n.suggestions,"option-label":n.optionLabel,"force-selection":n.forceSelection,onComplete:r[0]||(r[0]=l=>a.$emit("complete",l)),onItemSelect:r[1]||(r[1]=l=>h(i)(l.value))},null,8,["model-value","id","type","invalid","dropdown","suggestions","option-label","force-selection"]),h(s)?(w(),E("small",Ur,D(h(s)),1)):H("",!0)])])}}}),un=n=>{const e=J(()=>Qn(n)),t=L([]);return{filteredCities:t,searchCities:i=>{const a=i.query.toLowerCase();t.value=e.value.filter(r=>r.name.toLowerCase().includes(a))}}},Xs=n=>{const e=J(()=>Qn(n)),t=L([]);return{filteredProvinces:t,searchProvinces:i=>{const a=i.query.toLowerCase();t.value=e.value.filter(r=>r.name.toLowerCase().includes(a))}}},Rr={class:"flex flex-col gap-10"},zr={class:"flex flex-col gap-6"},Zr={class:"grid grid-cols-12 gap-6"},Hr={class:"col-span-12 md:col-span-3"},Br={class:"col-span-12 md:col-span-3"},Yr={class:"col-span-12 md:col-span-3"},Qr={class:"col-span-12 md:col-span-3"},Gr={class:"grid grid-cols-12 gap-6"},Jr={class:"col-span-12 md:col-span-6 xl:col-span-3"},jr={class:"col-span-12 md:col-span-6 xl:col-span-3"},Kr={class:"col-span-12 md:col-span-6 xl:col-span-3"},Xr={class:"col-span-12 md:col-span-6 xl:col-span-3"},eo={key:0,class:"text-warning"},to={key:0,class:"pi pi-spin pi-spinner text-muted-color"},no={key:1,class:"pi pi-exclamation-circle text-warning"},so={class:"grid grid-cols-12 gap-6"},io={class:"col-span-12 md:col-span-3"},ao={class:"col-span-12 md:col-span-3"},ro={class:"col-span-12 md:col-span-3"},oo=P({__name:"CqpInsuranceContactsCard",setup(n){const e=Ze(),t=L([]),s=J(()=>e.allCountries),i=J(()=>e.allGenders),{filteredCities:a,searchCities:r}=un(()=>e.allCities),{filteredProvinces:o,searchProvinces:l}=Xs(()=>e.allProvinces),{value:c,errorMessage:f}=Y("insured_fiscal_code"),m=L(!0),_=L(!1),p=b=>{(b.key===" "||b.code==="Space")&&b.preventDefault()},k=b=>{const y=b.query.toLowerCase();t.value=s.value.filter(q=>q.name.toLowerCase().includes(y))};function v(b){b&&(m.value=!0,c.value=b.toUpperCase().trim().replace(/\s+/g,""),x(c.value))}const x=oi(async b=>{if(b){_.value=!0;try{await e.checkCfAvailability(b),m.value=!0}catch(y){if(y instanceof li&&y.status===409){m.value=!1;return}console.error("Errore durante la verifica del codice fiscale:",y),ui(y)}finally{_.value=!1}}},300);return(b,y)=>{const q=N("InputGroupAddon"),W=N("Card");return w(),B(W,{class:"pb-4"},{title:C(()=>[...y[1]||(y[1]=[u("h4",null,"Contatti",-1)])]),content:C(()=>[u("div",Rr,[u("div",zr,[u("div",Zr,[u("div",Hr,[d(K,{id:"insured_first_name",label:"Nome*",name:"insured_first_name"})]),u("div",Br,[d(K,{id:"insured_last_name",label:"Cognome*",name:"insured_last_name"})]),u("div",Yr,[d(Lr,{name:"insured_gender",id:"insured_gender",label:"Sesso*",options:i.value,"option-label":"name","option-value":"code"},null,8,["options"])]),u("div",Qr,[d(Me,{id:"insured_birth_date",name:"insured_birth_date",label:"Data di nascita*"},{prefixAddon:C(()=>[d(q,null,{default:C(()=>[...y[2]||(y[2]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})])]),u("div",Gr,[u("div",Jr,[d(ze,{name:"insured_birth_country",id:"insured_birth_country",label:"Paese di nascita*",suggestions:t.value,"option-label":"name",onComplete:k,"force-selection":""},null,8,["suggestions"])]),u("div",jr,[d(ze,{name:"insured_birth_province",id:"insured_birth_province",label:"Provincia di nascita*",suggestions:h(o),"option-label":"name",onComplete:h(l),"force-selection":""},null,8,["suggestions","onComplete"])]),u("div",Kr,[d(ze,{name:"insured_birth_city",id:"insured_birth_city",label:"Città di nascita*",suggestions:h(a),"option-label":"name",onComplete:h(r),"force-selection":""},null,8,["suggestions","onComplete"])]),u("div",Xr,[d(K,{id:"insured_fiscal_code",label:"Codice fiscale*",modelValue:h(c),"onUpdate:modelValue":y[0]||(y[0]=M=>we(c)?c.value=M:null),onValueChange:v,"input-style":{textTransform:"uppercase",borderColor:!m.value&&!h(f)?"var(--color-warning)":""},onInputKeydown:p,"forced-error-message":h(f)},ri({warning:C(()=>[m.value?H("",!0):(w(),E("small",eo," Il codice fiscale inserito è già associato ad un altro assicurato. "))]),_:2},[_.value||!m.value?{name:"suffixAddon",fn:C(()=>[d(q,null,{default:C(()=>[_.value?(w(),E("i",to)):(w(),E("i",no))]),_:1})]),key:"0"}:void 0]),1032,["modelValue","input-style","forced-error-message"])])]),u("div",so,[u("div",io,[d(K,{name:"email",id:"email",label:"Email"})]),u("div",ao,[d(K,{name:"cellphone",id:"cellphone",label:"Cellulare"})]),u("div",ro,[d(K,{name:"phone",id:"phone",label:"Telefono"})])])])])]),_:1})}}}),lo={class:"flex flex-col gap-10"},uo={class:"flex flex-col gap-6"},co={class:"grid grid-cols-12 gap-6"},fo={class:"col-span-12 md:col-span-9"},mo={class:"col-span-12 md:col-span-3"},ho={class:"grid grid-cols-12 gap-6"},po={class:"col-span-12 md:col-span-3"},go={class:"col-span-12 md:col-span-6"},yo={class:"col-span-12 md:col-span-3"},_o=P({__name:"CqpInsuranceAddressCard",setup(n){const e=Ze(),{filteredProvinces:t,searchProvinces:s}=Xs(()=>e.allProvinces),{filteredCities:i,searchCities:a}=un(()=>e.allCities);return(r,o)=>{const l=N("Card");return w(),B(l,{class:"pb-4"},{title:C(()=>[...o[0]||(o[0]=[u("h4",null,"Residenza",-1)])]),content:C(()=>[u("div",lo,[u("div",uo,[u("div",co,[u("div",fo,[d(K,{id:"insured_address",label:"Indirizzo*",name:"insured_address"})]),u("div",mo,[d(K,{id:"insured_address_number",label:"Numero*",name:"insured_address_number"})])]),u("div",ho,[u("div",po,[d(ze,{name:"insured_province",id:"insured_province",label:"Provincia*",suggestions:h(t),"option-label":"name",onComplete:h(s),"force-selection":""},null,8,["suggestions","onComplete"])]),u("div",go,[d(ze,{name:"insured_city",id:"insured_city",label:"Città*",suggestions:h(i),"option-label":"name",onComplete:h(a),"force-selection":""},null,8,["suggestions","onComplete"])]),u("div",yo,[d(K,{name:"insured_postal_code",id:"insured_postal_code",label:"Cap*"})])])])])]),_:1})}}}),vo={class:"flex flex-col gap-10"},bo={class:"flex flex-col gap-6"},wo={class:"grid grid-cols-12 gap-6"},xo={class:"col-span-12 md:col-span-3"},Co={class:"col-span-12 md:col-span-3"},To={class:"col-span-12 md:col-span-6"},So={class:"grid grid-cols-12 gap-6"},ko={class:"col-span-12 md:col-span-6"},Eo={class:"col-span-12 md:col-span-3"},Oo={class:"col-span-12 md:col-span-3"},Mo=P({__name:"CqpInsuranceDocumentCard",setup(n){const e=Ze(),{filteredCities:t,searchCities:s}=un(()=>e.allCities);return(i,a)=>{const r=N("InputGroupAddon"),o=N("Card");return w(),B(o,{class:"pb-4"},{title:C(()=>[...a[0]||(a[0]=[u("h4",null,"Dati del documento d'identità",-1)])]),content:C(()=>[u("div",vo,[u("div",bo,[u("div",wo,[u("div",xo,[d(K,{id:"insured_document_type",name:"insured_document_type",label:"Tipo di documento*"})]),u("div",Co,[d(K,{id:"insured_document_number",label:"Numero*",name:"insured_document_number"})]),u("div",To,[d(K,{id:"insured_document_issued_by",name:"insured_document_issued_by",label:"Rilasciato da*"})])]),u("div",So,[u("div",ko,[d(ze,{name:"insured_document_issue_place",id:"insured_document_issue_place",label:"Luogo di rilascio*",suggestions:h(t),"option-label":"name",onComplete:h(s),"force-selection":""},null,8,["suggestions","onComplete"])]),u("div",Eo,[d(Me,{name:"insured_document_issue_date",id:"insured_document_issue_date",label:"Data di rilascio*"},{prefixAddon:C(()=>[d(r,null,{default:C(()=>[...a[1]||(a[1]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})]),u("div",Oo,[d(Me,{name:"insured_document_expiry_date",id:"insured_document_expiry_date",label:"Data di scadenza*"},{prefixAddon:C(()=>[d(r,null,{default:C(()=>[...a[2]||(a[2]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})])])])])]),_:1})}}}),Io={class:"flex flex-col gap-8"},Do=P({__name:"CqpInsuranceTab",setup(n){return(e,t)=>(w(),E("div",Io,[d(oo),d(_o),d(Mo)]))}}),No={class:"flex flex-col"},$o={class:"flex items-center gap-2"},Fo=["for"],Ao={key:0,class:"text-red-500"},ei=P({__name:"CheckboxWithValidation",props:{id:{},name:{},label:{},disabled:{type:Boolean},modelValue:{type:Boolean,default:void 0}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,s=e,i=t.name?Y(t.name):{value:L(void 0),errorMessage:J(()=>{})},{value:a,errorMessage:r}=i,o=J({get:()=>t.modelValue!==void 0?t.modelValue:t.name&&a.value!==void 0?a.value:!1,set:l=>{t.modelValue!==void 0&&s("update:modelValue",l),t.name&&(a.value=l)}});return(l,c)=>{const f=N("Checkbox");return w(),E("div",No,[u("div",$o,[d(f,{"input-id":n.id,disabled:n.disabled,binary:"",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=m=>o.value=m),invalid:!!h(r)},null,8,["input-id","disabled","modelValue","invalid"]),u("label",{for:n.id,class:"font-medium text-surface-900"},D(n.label),9,Fo)]),h(r)?(w(),E("small",Ao,D(h(r)),1)):H("",!0)])}}}),Vo={class:"flex flex-col gap-10"},Lo=P({__name:"CqpBeneficiaryCard",setup(n){return(e,t)=>{const s=N("Card");return w(),B(s,{class:"pb-4"},{title:C(()=>[...t[0]||(t[0]=[u("h4",null,"Dati del documento d'identità",-1)])]),content:C(()=>[u("div",Vo,[d(ei,{id:"beneficiary_same_as_policyholder","model-value":!0,disabled:"",label:"Beneficiario uguale al contraente"})])]),_:1})}}}),qo={class:"flex flex-col gap-8"},Po=P({__name:"CqpBeneficiaryTab",setup(n){return(e,t)=>(w(),E("div",qo,[d(Lo)]))}}),_t=n=>({euroValue:J({get:()=>n.value!=null?n.value/100:null,set:t=>{n.value=t!=null?Math.round(t*100):null}})}),Wo={class:"flex flex-col gap-10"},Uo={class:"flex flex-col gap-6"},Ro={class:"grid grid-cols-12 gap-6"},zo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Zo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Ho={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Bo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Yo={class:"grid grid-cols-12 gap-6"},Qo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Go={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Jo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},jo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},Ko={class:"grid grid-cols-12 gap-6"},Xo={class:"col-span-12 md:col-span-6 2xl:col-span-3"},el=P({__name:"CqpContractCard",setup(n){const{value:e}=Y("start_date"),{value:t}=Y("duration_months"),{value:s}=Y("end_date"),{value:i,errorMessage:a}=Y("monthly_installment_amount"),{value:r,errorMessage:o}=Y("total_amount"),{value:l}=Y("premium"),{euroValue:c}=_t(i),{euroValue:f}=_t(r),{euroValue:m}=_t(l),{value:_,errorMessage:p}=Y("annual_nominal_rate"),k=Ti(_),v=xe("installments_count");Ee([e,t],([b,y])=>{if(b&&y){const W=T.fromISO(b).plus({months:y});s.value=W.toISODate()??""}});const x=()=>{i.value!=null&&v.value!=null&&(r.value=i.value*v.value)};return(b,y)=>{const q=N("InputGroupAddon"),W=N("Button"),M=N("Card");return w(),B(M,{class:"pb-4"},{title:C(()=>[...y[4]||(y[4]=[u("h4",null,"Dati di contratto",-1)])]),content:C(()=>[u("div",Wo,[u("div",Uo,[u("div",Ro,[u("div",zo,[d(K,{id:"financing_contract",label:"Contratto di finanziamento*",name:"financing_contract"})]),u("div",Zo,[d(Me,{id:"start_date",label:"Data di decorrenza*",name:"start_date"},{prefixAddon:C(()=>[d(q,null,{default:C(()=>[...y[5]||(y[5]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})]),u("div",Ho,[d($e,{name:"duration_months",id:"duration_months",label:"Durata[mesi]*"})]),u("div",Bo,[d(Me,{id:"end_date",label:"Data di scadenza*",name:"end_date",disabled:""},{prefixAddon:C(()=>[d(q,null,{default:C(()=>[...y[6]||(y[6]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})])]),u("div",Yo,[u("div",Qo,[d($e,{name:"installments_count",id:"installments_count",label:"Numero rate*",onValueChange:x})]),u("div",Go,[d($e,{modelValue:h(c),"onUpdate:modelValue":y[0]||(y[0]=U=>we(c)?c.value=U:null),id:"monthly_installment_amount",label:"Importo rata mensile*",mode:"currency",currency:"EUR","max-fraction-digits":2,"forced-error-message":h(a),onValueChange:x},null,8,["modelValue","forced-error-message"])]),u("div",Jo,[d($e,{modelValue:h(f),"onUpdate:modelValue":y[1]||(y[1]=U=>we(f)?f.value=U:null),id:"total_amount",label:"Montante*",disabled:"",mode:"currency",currency:"EUR","max-fraction-digits":2,"forced-error-message":h(o)},null,8,["modelValue","forced-error-message"])]),u("div",jo,[d($e,{id:"annual_nominal_rate",label:"Tasso Annuo Nominale(T.A.N)*","max-fraction-digits":2,modelValue:h(k),"onUpdate:modelValue":y[2]||(y[2]=U=>we(k)?k.value=U:null),"forced-error-message":h(p)},{prefixAddon:C(()=>[d(q,null,{default:C(()=>[...y[7]||(y[7]=[Gn("%",-1)])]),_:1})]),_:1},8,["modelValue","forced-error-message"])])]),u("div",Ko,[u("div",Xo,[d($e,{modelValue:h(m),"onUpdate:modelValue":y[3]||(y[3]=U=>we(m)?m.value=U:null),id:"premium",label:"Premio*",disabled:"",mode:"currency",currency:"EUR"},{suffixAddon:C(()=>[d(W,{label:"Calcola",severity:"warn"})]),_:1},8,["modelValue"])])])])])]),_:1})}}}),tl={class:"flex flex-col gap-8"},nl=P({__name:"CqpContractTab",setup(n){return(e,t)=>(w(),E("div",tl,[d(el)]))}}),sl={class:"flex flex-col gap-1"},il=["for"],al={class:"flex flex-col"},rl={key:0,class:"text-red-500"},ti=P({__name:"TextAreaWithValidation",props:{type:{default:"text"},id:{},label:{},name:{},textAreaStyle:{type:[Boolean,null,String,Object,Array]}},setup(n){const e=n,{value:t,errorMessage:s}=Y(()=>e.name?e.name:"");return(i,a)=>{const r=N("Textarea");return w(),E("div",sl,[u("label",{for:n.id,class:"font-medium text-surface-900"},D(n.label),9,il),u("div",al,[d(r,{name:n.name,id:n.id,type:n.type,modelValue:h(t),"onUpdate:modelValue":a[0]||(a[0]=o=>we(t)?t.value=o:null),invalid:!!h(s),fluid:"",style:Yn([{resize:"none"},n.textAreaStyle])},null,8,["name","id","type","modelValue","invalid","style"]),h(s)?(w(),E("small",rl,D(h(s)),1)):H("",!0)])])}}}),ol={class:"flex flex-col gap-10"},ll={class:"flex flex-col gap-6"},ul={class:"grid grid-cols-12 gap-6"},cl={class:"col-span-12 md:col-span-6"},dl={class:"col-span-12 md:col-span-6"},fl={class:"grid grid-cols-12 gap-6"},ml={class:"col-span-6"},hl=P({__name:"CqpDoctorCard",setup(n){return(e,t)=>{const s=N("Card");return w(),B(s,{class:"pb-4"},{title:C(()=>[...t[0]||(t[0]=[u("h4",null,"Medico curante",-1)])]),content:C(()=>[u("div",ol,[u("div",ll,[u("div",ul,[u("div",cl,[d(K,{id:"doctor_first_name",name:"doctor_first_name",label:"Nome*"})]),u("div",dl,[d(K,{id:"doctor_last_name",name:"doctor_last_name",label:"Cognome*"})])]),u("div",fl,[u("div",ml,[d(ti,{"text-area-style":{height:"200px"},id:"doctor_notes",name:"doctor_notes",label:"Dati aggiuntivi"})])])])])]),_:1})}}}),pl={class:"flex flex-col gap-8"},gl=P({__name:"CqpDoctorTab",setup(n){return(e,t)=>(w(),E("div",pl,[d(hl)]))}}),yl={class:"flex flex-col gap-10"},_l={class:"flex flex-col gap-6"},vl={class:"w-full mt-4 flex flex-col justify-center items-center"},bl={class:"flex gap-2 items-center"},wl={key:0,class:"text-red-500 text-center"},xl=P({__name:"CqpConsentsCard",setup(n){const{value:e,errorMessage:t}=Y("consents_at");return(s,i)=>{const a=N("Checkbox"),r=N("Card");return w(),B(r,{class:"pb-4"},{title:C(()=>[...i[1]||(i[1]=[u("h4",null,"Dichiarazioni",-1)])]),content:C(()=>[u("div",yl,[u("div",_l,[i[3]||(i[3]=u("div",{class:"grid grid-cols-12 gap-6"},[u("div",{class:"col-span-12"},[u("ul",{class:"list-decimal pl-5"},[u("li",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Blanditiis error eveniet laborum nihil non, odio perspiciatis quae quasi velit voluptatem! Assumenda eaque mollitia rem reprehenderit suscipit temporibus totam. Dolorum esse quibusdam quidem quo voluptates? At commodi debitis, doloribus dolorum enim esse maiores molestiae obcaecati officiis, quae sapiente tempore ut voluptates. "),u("li",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. A amet asperiores assumenda atque autem beatae blanditiis debitis delectus dolor est, fugiat fugit hic illum inventore laborum molestias mollitia necessitatibus neque nihil praesentium quaerat quisquam quo repellendus sapiente sit tempore temporibus voluptatem! Assumenda atque consectetur consequuntur cum cupiditate delectus deleniti dolore doloremque ducimus eos est exercitationem incidunt ipsam laboriosam, libero magnam, obcaecati odio officiis perspiciatis similique velit vero voluptate? Ab ad beatae consectetur consequuntur corporis cumque dolores eaque eius ex fugit hic illum impedit itaque molestiae molestias natus, nemo nisi omnis pariatur soluta tenetur ut veniam? Distinctio ducimus possimus quia voluptatibus? "),u("li",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta facilis harum, nam necessitatibus nisi sapiente sed similique veniam voluptatem voluptates? ")])])],-1)),u("div",vl,[u("div",bl,[d(a,{id:"consents_at",name:"consents_at",modelValue:h(e),"onUpdate:modelValue":i[0]||(i[0]=o=>we(e)?e.value=o:null),binary:"",invalid:!!h(t)},null,8,["modelValue","invalid"]),i[2]||(i[2]=u("label",{for:"consents_at",class:"font-medium text-surface-900"}," Accetto ",-1))]),h(t)?(w(),E("small",wl,D(h(t)),1)):H("",!0)])])])]),_:1})}}}),Cl=ci(xl,[["__scopeId","data-v-9326ada7"]]),Tl={class:"flex flex-col gap-8"},Sl=P({__name:"CqpConsentsTab",setup(n){return(e,t)=>(w(),E("div",Tl,[d(Cl)]))}}),kl={class:"flex items-center gap-4"},El={key:0,class:"flex flex-col gap-4 mt-4"},Ol={class:"flex items-center gap-4"},Ml={class:"flex flex-col"},Il={class:"font-medium text-surface-900"},Dl={class:"flex items-center gap-2"},Nl={class:"flex items-center gap-4"},$l={class:"flex flex-col"},Fl={class:"font-medium text-surface-900"},Al={class:"text-sm text-surface-500"},Vl={key:1,class:"flex flex-col items-center justify-center py-12 text-surface-500"},Ll={class:"text-lg font-medium"},ql={class:"text-sm"},Pl=P({__name:"FileUploadWithPreview",props:{name:{default:"files"},multiple:{type:Boolean,default:!0},accept:{default:"image/*,.pdf,.doc,.docx"},maxFileSize:{default:1e7},addLabel:{default:"Aggiungi file"},clearLabel:{default:"Rimuovi tutti"},emptyMessage:{default:'Trascina i file qui o clicca su "Aggiungi file"'},supportedFormatsMessage:{default:"Formati supportati: PDF (max 10MB)"},disabledAddFilesButton:{type:Boolean},existingAttachments:{default:()=>[]}},emits:["update:files","delete:attachment","clear:attachments"],setup(n,{expose:e,emit:t}){const s=n,i=t,a=L([]),r=L();e({clearFiles:()=>{a.value=[],r.value?.clear()}});const l=v=>{a.value=[...a.value,...v.files],i("update:files",a.value)},c=v=>{a.value=a.value.filter(x=>x.name!==v.file.name),i("update:files",a.value)},f=()=>{a.value=[],i("update:files",a.value)},m=v=>{v(),i("clear:attachments")},_=v=>{const x=v.type;return x.startsWith("image/")?"pi pi-image":x==="application/pdf"?"pi pi-file-pdf":x==="application/msword"||x==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?"pi pi-file-word":"pi pi-file"},p=v=>{const x=v.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(x??"")?"pi pi-image":x==="pdf"?"pi pi-file-pdf":["doc","docx"].includes(x??"")?"pi pi-file-word":"pi pi-file"},k=v=>{if(v===0)return"0 Bytes";const x=1024,b=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(v)/Math.log(x));return parseFloat((v/Math.pow(x,y)).toFixed(2))+" "+b[y]};return(v,x)=>{const b=N("Button"),y=N("FileUpload");return w(),B(y,{ref_key:"fileUploadRef",ref:r,name:n.name,multiple:n.multiple,accept:n.accept,maxFileSize:n.maxFileSize,onSelect:l,onRemove:c,onClear:f},{header:C(({chooseCallback:q,clearCallback:W,files:M})=>[u("div",kl,[d(b,{onClick:U=>q(),icon:"pi pi-plus",label:n.addLabel,outlined:"",disabled:n.disabledAddFilesButton},null,8,["onClick","label","disabled"]),d(b,{onClick:U=>m(W),icon:"pi pi-times",label:n.clearLabel,outlined:"",severity:"danger",disabled:(!M||M.length===0)&&s.existingAttachments.length===0},null,8,["onClick","label","disabled"])])]),content:C(({files:q,removeFileCallback:W})=>[n.existingAttachments.length>0||q.length>0?(w(),E("div",El,[(w(!0),E(Pt,null,Wt(n.existingAttachments,M=>(w(),E("div",{key:M.id,class:"flex items-center justify-between p-4 border border-surface-200 rounded-lg"},[u("div",Ol,[u("i",{class:me([p(M.file_name),"text-2xl text-surface-500"])},null,2),u("div",Ml,[u("span",Il,D(M.file_name),1)])]),u("div",Dl,[M.url?(w(),B(b,{key:0,as:"a",href:M.url,target:"_blank",download:"",icon:"pi pi-download",outlined:"",rounded:""},null,8,["href"])):H("",!0),d(b,{onClick:U=>i("delete:attachment",M.id),icon:"pi pi-trash",outlined:"",severity:"danger",rounded:""},null,8,["onClick"])])]))),128)),(w(!0),E(Pt,null,Wt(q,(M,U)=>(w(),E("div",{key:M.name+M.type+M.size,class:"flex items-center justify-between p-4 border border-surface-200 rounded-lg"},[u("div",Nl,[u("i",{class:me([_(M),"text-2xl text-surface-500"])},null,2),u("div",$l,[u("span",Fl,D(M.name),1),u("span",Al,D(k(M.size)),1)])]),d(b,{onClick:he=>W(U),icon:"pi pi-trash",outlined:"",severity:"danger",rounded:""},null,8,["onClick"])]))),128))])):(w(),E("div",Vl,[x[0]||(x[0]=u("i",{class:"pi pi-cloud-upload text-5xl mb-4"},null,-1)),u("p",Ll,D(n.emptyMessage),1),u("p",ql,D(n.supportedFormatsMessage),1)]))]),_:1},8,["name","multiple","accept","maxFileSize"])}}});function Ke(n){switch(n){case"CQP_MEMBERSHIP_FORM":return"Modulo di adesione";case"CQP_IDENTITY_DOCUMENT":return"Documento d'identità";case"CQP_MEDICAL_DOCUMENTATION":return"Documentazione sanitaria";case"CQP_NEW_BENEFICIARY":return"Nuovo beneficiario";case"CQP_PENSION_SLIP":return"Cedolino pensione";default:return n}}var le=(n=>(n.CQP_ATTACHMENTS_FILES="CQP_ATTACHMENTS_FILES",n.CQP_ATTACHMENTS_TO_DELETE="CQP_ATTACHMENTS_TO_DELETE",n.CQP_CLAIM_DOCUMENTS_FILES="CQP_CLAIM_DOCUMENTS_FILES",n.CQP_CLAIM_DOCUMENTS_TO_DELETE="CQP_CLAIM_DOCUMENTS_TO_DELETE",n.CQP_CLAIM_HAS_ERRORS="CQP_CLAIM_HAS_ERRORS",n))(le||{});const Wl={class:"flex flex-col gap-10"},Ul={class:"flex flex-col gap-6"},Rl={class:"grid grid-cols-12 gap-6"},zl={class:"col-span-12 md:col-span-6 order-last md:order-first"},Zl={class:"flex flex-col gap-3 col-span-12 md:col-span-6 order-first md:order-last"},Hl={class:"flex flex-row gap-2"},Bl={for:"CQP_MEMBERSHIP_FORM"},Yl={class:"flex flex-row gap-2"},Ql={for:"CQP_IDENTITY_DOCUMENT"},Gl={class:"flex flex-row gap-2"},Jl={for:"CQP_MEDICAL_DOCUMENTATION"},jl={class:"flex flex-row gap-2"},Kl={for:"CQP_NEW_BENEFICIARY"},Xl={class:"flex flex-row gap-2"},eu={for:"CQP_PENSION_SLIP"},tu=P({__name:"CqpAttachmentsCard",setup(n){const e=L(),t=it(le.CQP_ATTACHMENTS_FILES),s=it(le.CQP_ATTACHMENTS_TO_DELETE),i=xe("attachments"),a=m=>{t&&(t.value=m)},r=m=>{if(!i?.value)return;const _=i.value.findIndex(p=>p.id===m);_>-1&&(i.value.splice(_,1),s?.value.push(m))},o=()=>{i?.value&&(i.value.forEach(m=>s?.value.push(m.id)),i.value.splice(0,i.value.length))},l=xe("attachment_types"),c=m=>l?.value?.includes(m)??!1,f=(m,_)=>{if(l)if(_)l.value.includes(m)||l.value.push(m);else{const p=l.value.indexOf(m);p>-1&&l.value.splice(p,1)}};return Ee(i,()=>{t?.value.length===0&&e.value?.clearFiles()}),(m,_)=>{const p=N("Checkbox"),k=N("Card");return w(),B(k,{class:"pb-4"},{title:C(()=>[..._[5]||(_[5]=[u("h4",null,"Allegati",-1)])]),content:C(()=>[u("div",Wl,[u("div",Ul,[u("div",Rl,[u("div",zl,[d(Pl,{ref_key:"fileUploadRef",ref:e,accept:"application/pdf","existing-attachments":h(i)??[],name:"attachments","onUpdate:files":a,"onDelete:attachment":r,"onClear:attachments":o},null,8,["existing-attachments"])]),u("div",Zl,[u("div",Hl,[d(p,{"input-id":"CQP_MEMBERSHIP_FORM","model-value":c("CQP_MEMBERSHIP_FORM"),binary:"","onUpdate:modelValue":_[0]||(_[0]=v=>f("CQP_MEMBERSHIP_FORM",v))},null,8,["model-value"]),u("label",Bl,D(h(Ke)("CQP_MEMBERSHIP_FORM")),1)]),u("div",Yl,[d(p,{"input-id":"CQP_IDENTITY_DOCUMENT","model-value":c("CQP_IDENTITY_DOCUMENT"),binary:"","onUpdate:modelValue":_[1]||(_[1]=v=>f("CQP_IDENTITY_DOCUMENT",v))},null,8,["model-value"]),u("label",Ql,D(h(Ke)("CQP_IDENTITY_DOCUMENT")),1)]),u("div",Gl,[d(p,{"input-id":"CQP_MEDICAL_DOCUMENTATION","model-value":c("CQP_MEDICAL_DOCUMENTATION"),binary:"","onUpdate:modelValue":_[2]||(_[2]=v=>f("CQP_MEDICAL_DOCUMENTATION",v))},null,8,["model-value"]),u("label",Jl,D(h(Ke)("CQP_MEDICAL_DOCUMENTATION")),1)]),u("div",jl,[d(p,{"input-id":"CQP_NEW_BENEFICIARY","model-value":c("CQP_NEW_BENEFICIARY"),binary:"","onUpdate:modelValue":_[3]||(_[3]=v=>f("CQP_NEW_BENEFICIARY",v))},null,8,["model-value"]),u("label",Kl,D(h(Ke)("CQP_NEW_BENEFICIARY")),1)]),u("div",Xl,[d(p,{"input-id":"CQP_PENSION_SLIP","model-value":c("CQP_PENSION_SLIP"),binary:"","onUpdate:modelValue":_[4]||(_[4]=v=>f("CQP_PENSION_SLIP",v))},null,8,["model-value"]),u("label",eu,D(h(Ke)("CQP_PENSION_SLIP")),1)])])])])])]),_:1})}}}),nu={class:"flex flex-col gap-8"},su=P({__name:"CqpAttachmentsTab",setup(n){return(e,t)=>(w(),E("div",nu,[d(tu)]))}}),iu=()=>{const n=Jn(ne({insured_first_name:V().required("Nome è obbligatorio"),insured_last_name:V().required("Cognome è obbligatorio"),insured_gender:V().required("Sesso è obbligatorio"),insured_birth_country:ne().required("Paese di nascita è obbligatorio"),insured_birth_date:V().required("Data di nascita è obbligatoria"),insured_birth_city:ne().required("Città di nascita è obbligatoria"),insured_birth_province:ne().required("Provincia di nascita è obbligatoria"),insured_fiscal_code:V().required("Codice fiscale è obbligatorio"),email:V().email("Email non valida").nullable(),insured_address:V().required("Indirizzo è obbligatorio"),insured_address_number:V().required("Numero civico è obbligatorio"),insured_postal_code:V().required("CAP è obbligatorio"),insured_province:ne().required("Provincia è obbligatoria"),insured_city:ne().required("Città è obbligatoria"),insured_document_type:V().required("Tipo di documento è obbligatorio"),insured_document_number:V().required("Numero di documento è obbligatorio"),insured_document_issued_by:V().required("Ente rilasciante è obbligatorio"),insured_document_issue_place:ne().required("Luogo di rilascio è obbligatorio"),insured_document_issue_date:V().required("Data di rilascio è obbligatoria"),insured_document_expiry_date:V().required("Data di scadenza è obbligatoria"),financing_contract:V().required("Il contratto di finanziamento è obbligatorio"),start_date:V().required("La data di decorrenza è obbligatoria").test("max-120-days","La data di decorrenza non può essere superiore a 120 giorni da oggi",o=>{if(!o)return!0;const l=new Date,c=new Date(l.setDate(l.getDate()+120));return new Date(o)<=c}),duration_months:Ne().required("La durata in mesi è obbligatoria"),end_date:V().required("La data di scadenza è obbligatoria"),installments_count:Ne().required("Il numero di rate è obbligatorio"),monthly_installment_amount:Ne().required("L'importo della rata mensile è obbligatorio"),total_amount:Ne(),annual_nominal_rate:Ne().required("Il TAN è obbligatorio"),premium:Ne(),rga_approved:Ut(),risk_acceptance_notes:V().nullable(),doctor_first_name:V().required("Nome del medico è obbligatorio"),doctor_last_name:V().required("Cognome del medico è obbligatorio"),doctor_notes:V(),consents_at:Ut().oneOf([!0],"È necessario fornire il consenso per procedere"),attachment_types:hn().of(V()),attachments:hn().of(ne()),partner:ne(),partner_id:V().required("Il partner è obbligatorio")})),{handleSubmit:e,errors:t,resetForm:s,values:i,setFieldValue:a}=jn({validationSchema:n,initialValues:{rga_approved:!0,total_amount:0,premium:5}}),r=J(()=>({insurance:!!(t.value.insured_last_name||t.value.insured_first_name||t.value.insured_gender||t.value.insured_birth_country||t.value.insured_birth_date||t.value.insured_birth_city||t.value.insured_province||t.value.insured_fiscal_code||t.value.insured_address||t.value.insured_address_number||t.value.insured_postal_code||t.value.insured_city||t.value.insured_document_type||t.value.insured_document_number||t.value.insured_document_issued_by||t.value.insured_document_issue_place||t.value.insured_document_issue_date||t.value.insured_document_expiry_date),contract:!!(t.value.financing_contract||t.value.start_date||t.value.duration_months||t.value.end_date||t.value.installments_count||t.value.monthly_installment_amount||t.value.total_amount||t.value.annual_nominal_rate||t.value.premium),survey:!!t.value.rga_approved,doctor:!!(t.value.doctor_first_name||t.value.doctor_last_name),consents:!!t.value.consents_at}));return{handleSubmit:e,errors:t,tabErrors:r,resetForm:s,values:i,setFieldValue:a}},au={class:"flex flex-col gap-10"},ru={class:"flex flex-col gap-6"},ou={class:"grid grid-cols-12 gap-6"},lu={class:"col-span-12 md:col-span-6"},uu={class:"flex flex-col gap-1"},cu={class:"grid grid-cols-12 gap-6"},du={key:0,class:"col-span-12 md:col-span-3"},fu={class:"col-span-12 md:col-span-3"},mu={class:"col-span-12 md:col-span-3"},hu={class:"col-span-12 md:col-span-3"},pu={class:"grid grid-cols-12 gap-6"},gu={class:"col-span-12 md:col-span-3 md:pt-9"},yu={class:"grid grid-cols-12 gap-6"},_u={class:"col-span-12"},vu=P({__name:"CqpClaimDataCard",props:{isNewClaim:{type:Boolean}},setup(n){const e=di(),{value:t,errorMessage:s}=Y("amount"),{euroValue:i}=_t(t),{value:a,setValue:r}=Y("partner"),o=vi("partner_id");function l(k){k&&(o(k.id),r(k))}const c=xe("created_at"),{data:f,isLoading:m,fetchInit:_,fetchMore:p}=fi(k=>de(()=>e.fetchAllPartners({page:k.page,limit:k.limit,name_like:k.query||void 0})),"partners",20);return(k,v)=>{const x=N("InputGroupAddon"),b=N("Card");return w(),B(b,{class:"pb-4"},{title:C(()=>[...v[1]||(v[1]=[u("h4",null,"Dati del sinistro",-1)])]),content:C(()=>[u("div",au,[u("div",ru,[u("div",ou,[u("div",lu,[u("div",uu,[v[2]||(v[2]=u("label",{for:"beneficiario",class:"font-medium text-surface-900"}," Beneficiario ",-1)),d(mi,{disabled:n.isNewClaim,"model-value":h(a),"option-label":"name","input-id":"beneficiario","onUpdate:modelValue":l,suggestions:h(f),"is-loading":h(m),onFirstFetch:h(_),onFetchMore:h(p)},null,8,["disabled","model-value","suggestions","is-loading","onFirstFetch","onFetchMore"])])])]),u("div",cu,[h(c)?(w(),E("div",du,[d(Me,{id:"created_at",label:"Data di sistema",disabled:"",name:"created_at"},{prefixAddon:C(()=>[d(x,null,{default:C(()=>[...v[3]||(v[3]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})])):H("",!0),u("div",fu,[d(Me,{id:"claim_date",name:"claim_date",label:"Data sinistro*"},{prefixAddon:C(()=>[d(x,null,{default:C(()=>[...v[4]||(v[4]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})]),u("div",mu,[d(Me,{id:"notification_date",name:"notification_date",label:"Data notifica sinistro*"},{prefixAddon:C(()=>[d(x,null,{default:C(()=>[...v[5]||(v[5]=[u("i",{class:"pi pi-calendar"},null,-1)])]),_:1})]),_:1})]),u("div",hu,[d($e,{id:"amount",modelValue:h(i),"onUpdate:modelValue":v[0]||(v[0]=y=>we(i)?i.value=y:null),label:"Importo sinistro",mode:"currency",currency:"EUR","forced-error-message":h(s)},null,8,["modelValue","forced-error-message"])])]),u("div",pu,[u("div",gu,[d(ei,{disabled:"",id:"early_claim",name:"early_claim",label:"Sinistro precoce"})])]),u("div",yu,[u("div",_u,[d(ti,{"text-area-style":{height:"200px"},id:"notes",name:"notes",label:"Note"})])])])])]),_:1})}}}),bu={class:"flex items-center gap-4"},wu={key:0,class:"flex flex-col gap-4 mt-4"},xu={key:0,class:"flex items-center justify-between p-4 border border-surface-200 rounded-lg"},Cu={class:"flex items-center gap-4"},Tu={class:"flex flex-col"},Su={class:"font-medium text-surface-900"},ku={class:"flex items-center gap-2"},Eu={key:1,class:"flex items-center justify-between p-4 border border-surface-200 rounded-lg"},Ou={class:"flex items-center gap-4"},Mu={class:"flex flex-col"},Iu={class:"font-medium text-surface-900"},Du={class:"text-sm text-surface-500"},Nu={key:1,class:"flex flex-col items-center justify-center py-12 text-surface-500"},$u=P({__name:"SingleFileUpload",props:{name:{default:"file"},accept:{default:"application/pdf"},maxFileSize:{default:1e7},existingAttachment:{default:null}},emits:["update:file","delete:attachment"],setup(n,{expose:e,emit:t}){const s=n,i=t,a=L(null),r=L(),o=J(()=>!!a.value||!!s.existingAttachment);e({clearFiles:()=>{a.value=null,r.value?.clear()}});const c=x=>{a.value=x.files[0]??null,i("update:file",a.value)},f=()=>{a.value=null,i("update:file",null)},m=()=>{a.value=null,i("update:file",null)},_=x=>{s.existingAttachment&&i("delete:attachment",s.existingAttachment.id),x()},p=x=>{const b=x.type;return b.startsWith("image/")?"pi pi-image":b==="application/pdf"?"pi pi-file-pdf":b==="application/msword"||b==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?"pi pi-file-word":"pi pi-file"},k=x=>{const b=x.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(b??"")?"pi pi-image":b==="pdf"?"pi pi-file-pdf":["doc","docx"].includes(b??"")?"pi pi-file-word":"pi pi-file"},v=x=>{if(x===0)return"0 Bytes";const b=1024,y=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(x)/Math.log(b));return parseFloat((x/Math.pow(b,q)).toFixed(2))+" "+y[q]};return(x,b)=>{const y=N("Button"),q=N("FileUpload");return w(),B(q,{ref_key:"fileUploadRef",ref:r,name:n.name,multiple:!1,accept:n.accept,maxFileSize:n.maxFileSize,onSelect:c,onRemove:f,onClear:m},{header:C(({chooseCallback:W,clearCallback:M})=>[u("div",bu,[d(y,{onClick:U=>W(),icon:"pi pi-plus",label:"Carica file",outlined:"",disabled:o.value},null,8,["onClick","disabled"]),d(y,{onClick:U=>_(M),icon:"pi pi-times",label:"Rimuovi",outlined:"",severity:"danger",disabled:!o.value},null,8,["onClick","disabled"])])]),content:C(({files:W,removeFileCallback:M})=>[n.existingAttachment||W.length>0?(w(),E("div",wu,[n.existingAttachment&&W.length===0?(w(),E("div",xu,[u("div",Cu,[u("i",{class:me([k(n.existingAttachment.file_name),"text-2xl text-surface-500"])},null,2),u("div",Tu,[u("span",Su,D(n.existingAttachment.file_name),1)])]),u("div",ku,[n.existingAttachment.url?(w(),B(y,{key:0,as:"a",href:n.existingAttachment.url,target:"_blank",download:"",icon:"pi pi-download",outlined:"",rounded:""},null,8,["href"])):H("",!0),d(y,{onClick:b[0]||(b[0]=U=>i("delete:attachment",n.existingAttachment.id)),icon:"pi pi-trash",outlined:"",severity:"danger",rounded:""})])])):H("",!0),W.length>0&&W[0]!=null?(w(),E("div",Eu,[u("div",Ou,[u("i",{class:me([p(W[0]),"text-2xl text-surface-500"])},null,2),u("div",Mu,[u("span",Iu,D(W[0].name),1),u("span",Du,D(v(W[0].size)),1)])]),d(y,{onClick:U=>M(0),icon:"pi pi-trash",outlined:"",severity:"danger",rounded:""},null,8,["onClick"])])):H("",!0)])):(w(),E("div",Nu,[...b[1]||(b[1]=[u("i",{class:"pi pi-cloud-upload text-5xl mb-4"},null,-1),u("p",{class:"text-lg font-medium"},' Trascina il file qui o clicca su "Carica file" ',-1),u("p",{class:"text-sm"},"Formati supportati: PDF (max 10MB)",-1)])]))]),_:1},8,["name","accept","maxFileSize"])}}}),Fu={class:"grid grid-cols-12 gap-6"},Au={class:"col-span-12 md:col-span-6"},Vu=P({__name:"CqpClaimDocumentsCard",setup(n){const e=L(),t=it(le.CQP_CLAIM_DOCUMENTS_FILES),s=it(le.CQP_CLAIM_DOCUMENTS_TO_DELETE),{value:i}=Y("attachment"),a=o=>{t&&(t.value=o)},r=o=>{i.value=null,s&&(s.value=o)};return Ee(i,()=>{t?.value||e.value?.clearFiles()}),(o,l)=>{const c=N("Card");return w(),B(c,{class:"pb-4"},{title:C(()=>[...l[0]||(l[0]=[u("h4",null,"Documenti del sinistro",-1)])]),content:C(()=>[u("div",Fu,[u("div",Au,[d($u,{ref_key:"fileUploadRef",ref:e,accept:"application/pdf","existing-attachment":h(i),name:"attachment","onUpdate:file":a,"onDelete:attachment":r},null,8,["existing-attachment"])])])]),_:1})}}}),Lu=()=>{const n=Jn(ne({claim_number:V(),early_claim:Ut().nullable(),claim_date:V().required("La data sinistro è obbligatoria"),notification_date:V().required("La data notifica è obbligatoria"),amount:Ne().nullable(),notes:V().nullable(),attachment:ne().nullable(),cqp_practice_id:V().required("La pratica CQp è obbligatoria"),partner:ne(),partner_id:V()})),{handleSubmit:e,errors:t,resetForm:s,values:i}=jn({validationSchema:n}),a=J(()=>Object.keys(t.value).length>0);return{handleSubmit:e,errors:t,resetForm:s,values:i,hasErrors:a}},qu={class:"flex flex-col gap-6"},Pu={class:"text-base leading-normal text-surface-700 text-center p-0 m-0"},Wu={class:"flex w-full gap-4"},Xt=P({__name:"AppConfirmDialog",props:qt({message:{},confirmLabel:{default:"Conferma"},cancelLabel:{default:"Annulla"},confirmSeverity:{default:"danger"}},{visible:{type:Boolean,required:!0},visibleModifiers:{}}),emits:qt(["confirm"],["update:visible"]),setup(n,{emit:e}){const t=e,s=Hn(n,"visible");function i(){s.value=!1,t("confirm")}return(a,r)=>{const o=N("Button"),l=N("Dialog");return w(),B(l,{visible:s.value,"onUpdate:visible":r[1]||(r[1]=c=>s.value=c),"append-to":"body",modal:!0,breakpoints:{"960px":"75vw","640px":"80vw"},style:{maxWidth:"40rem"},"show-header":!1,class:"shadow-sm rounded-2xl",pt:{content:"p-8!",footer:"pb-6! px-6!"}},{footer:C(()=>[u("div",Wu,[d(o,{label:n.cancelLabel,class:"flex-1",outlined:"",onClick:r[0]||(r[0]=c=>s.value=!1)},null,8,["label"]),d(o,{label:n.confirmLabel,class:"flex-1",severity:n.confirmSeverity,onClick:i},null,8,["label","severity"])])]),default:C(()=>[u("div",qu,[u("p",Pu,D(n.message),1)])]),_:1},8,["visible"])}}}),Uu={PRECAUTIONARY:"Cautelativo",DEFINITIVE:"Definitivo"},Ru={PRECAUTIONARY:"bg-yellow-500",DEFINITIVE:"bg-green-500"},zu={class:"flex justify-center items-center py-8"},Zu={class:"flex flex-wrap gap-4 items-center justify-between"},Hu={key:0,class:"flex items-center gap-2 ml-auto"},Bu={class:"text-sm text-surface-600"},Yu={class:"flex gap-2 justify-center"},Qu=P({__name:"CqpClaimTab",props:{cqpPractice:{}},setup(n){const e=n,{handleSubmit:t,hasErrors:s,resetForm:i}=Lu(),a=wi(),r=L(null),o=L(null),l=L(null),c=L(!1),f=L(!1),m=L(!1),_=L(!1);nt(le.CQP_CLAIM_DOCUMENTS_FILES,o),nt(le.CQP_CLAIM_DOCUMENTS_TO_DELETE,l);const p=it(le.CQP_CLAIM_HAS_ERRORS),k=xe("claim_number"),v=xe("status"),x=J(()=>e.cqpPractice.claim?.id),b=J(()=>r.value?.id||x.value);function y(O){i({values:{...O}})}function q(O){return{cqp_practice_id:O.cqp_practice_id,claim_date:O.claim_date,notification_date:O.notification_date,amount:O.amount,early_claim:O.early_claim,notes:O.notes,partner_id:O.partner_id}}function W(O){return{claim_date:O.claim_date,notification_date:O.notification_date,amount:O.amount,early_claim:O.early_claim,notes:O.notes,partner_id:O.partner_id}}async function M(O){await de(async()=>{r.value=await a.createClaim(q(O)),fe("Sinistro creato con successo"),await Ze().fetchCqpDetail(e.cqpPractice.id)})}async function U(O){r.value&&await de(async()=>{l.value&&(await a.deleteClaimAttachment(l.value),l.value=null,fe("Documento del sinistro eliminato correttamente")),o.value&&(await a.uploadClaimAttachment(r.value.id,o.value),o.value=null,fe("Documento del sinistro caricato correttamente")),r.value=await a.updateClaim(r.value.id,W(O)),fe("Sinistro aggiornato con successo"),y(r.value)})}const he=t(async O=>{try{_.value=!0,r.value?.id?await U(O):await M(O)}finally{_.value=!1}});async function Ve(){r.value&&await de(async()=>{await a.deleteClaim(r.value.id),fe("Sinistro eliminato con successo"),y({cqp_practice_id:e.cqpPractice.id}),await Ze().fetchCqpDetail(e.cqpPractice.id)},{onFinally:()=>c.value=!1})}async function pe(O){m.value=!0,await de(async()=>{r.value=await a.fetchClaimDetail(O),y(r.value)},{onFinally:()=>m.value=!1})}return hi(()=>{p&&(p.value=!m.value&&s.value)}),Ee(()=>x.value,async O=>{O?await pe(O):y({cqp_practice_id:e.cqpPractice.id,partner_id:e.cqpPractice.partner_id,partner:e.cqpPractice.partner})},{immediate:!0}),(O,j)=>{const Ot=N("ProgressSpinner"),Je=N("Button");return w(),E("div",null,[ve(u("div",zu,[d(Ot)],512),[[be,m.value]]),ve(u("form",{class:"flex flex-col gap-8",onSubmit:j[2]||(j[2]=(...ge)=>h(he)&&h(he)(...ge))},[u("div",Zu,[u("h2",null,D(b.value?`Sinistro #${h(k)}`:"Nuovo sinistro"),1),h(v)?(w(),E("div",Hu,[u("span",{class:me(["status-dot",h(Ru)[h(v)]])},null,2),u("span",Bu,D(h(Uu)[h(v)]),1)])):H("",!0),b.value?(w(),B(Je,{key:1,label:"Conferma sinistro",icon:"pi pi-check",onClick:j[0]||(j[0]=ge=>f.value=!0)})):H("",!0)]),d(vu,{isNewClaim:!b.value},null,8,["isNewClaim"]),b.value?(w(),B(Vu,{key:0})):H("",!0),u("div",Yu,[d(Je,{icon:"pi pi-trash",label:"Elimina sinistro",type:"button",severity:"danger",outlined:"",onClick:j[1]||(j[1]=ge=>c.value=!0)}),d(Je,{icon:"pi pi-save",label:"Salva sinistro",type:"submit",severity:"primary",loading:_.value},null,8,["loading"])])],544),[[be,!m.value]]),d(Xt,{visible:c.value,"onUpdate:visible":j[3]||(j[3]=ge=>c.value=ge),message:"Sei sicuro di voler eliminare questo sinistro?","confirm-label":"Elimina",onConfirm:Ve},null,8,["visible"]),d(Xt,{visible:f.value,"onUpdate:visible":j[4]||(j[4]=ge=>f.value=ge),message:"Sei sicuro di voler confermare il sinistro?","confirm-label":"Conferma",onConfirm:Ve,"confirm-severity":"primary"},null,8,["visible"])])}}}),Gu={class:"flex flex-col gap-4 sticky top-0 z-3 bg-surface-50 -mx-8 px-8 -mt-8 pt-8"},Ju={class:"flex justify-between sm:items-center gap-4 sm:flex-row flex-col"},ju={class:"flex flex-col gap-2"},Ku={class:"flex items-center gap-4"},Xu={class:"m-0 text-surface-900 text-xl font-semibold leading-tight"},ec={key:0,class:"text-red-500"},tc={class:"flex items-center gap-y-4 gap-x-2"},nc={key:0,class:"flex items-center gap-2 mr-2"},sc={class:"text-sm text-surface-600"},ic={class:"pb-16 mt-4"},dc=P({__name:"CqpDetailView",props:{params:{}},setup(n){const e=n,t=Ze(),s=pi(),{setInvalid:i}=_i(),a=L(0),r=L(),o=L(!1),l=L(!1),c=L([]),f=L([]),m=L(!1);nt(le.CQP_ATTACHMENTS_FILES,c),nt(le.CQP_ATTACHMENTS_TO_DELETE,f),nt(le.CQP_CLAIM_HAS_ERRORS,m);const{tabErrors:_,handleSubmit:p,resetForm:k,setFieldValue:v}=iu(),{showLoader:x,hideLoader:b}=gi(),y=J(()=>e.params?.cqp_id),q=J(()=>t.currentCqp),W=xe("insured_document_number"),M=xe("status"),U=xe("partner"),he=bi("partner_id");function Ve(F){k({values:{...F,consents_at:!!F.consents_at,rga_approved:!0}})}async function pe(F){await de(async()=>{f.value.length>0&&(await Promise.all(f.value.map(ce=>t.deleteAttachment(ce))),f.value=[],fe("Allegati eliminati correttamente")),c.value.length>0&&(await Promise.all(c.value.map(ce=>t.uploadFileAttachment(y.value,ce))),c.value=[],fe("Allegati caricati correttamente")),delete F.id,delete F.created_at,delete F.updated_at,delete F.deleted_at,delete F.attachments,delete F.status,await t.updateCqp(y.value,F),fe("Cqp aggiornata correttamente")})}async function O(F){await de(async()=>{await t.createCqp(F);debugger;fn.replace({name:mn.CQP}),fe("Cqp creata correttamente")})}const j=p(async F=>{try{l.value=!0,delete F.consents_at,delete F.partner,y.value?(delete F.partner_id,await pe(F)):await O(F)}finally{l.value=!1}});function Ot(F){r.value.toggle(F)}async function Je(){x(),await de(()=>t.fetchInitialData(),{onFinally:b})}async function ge(F){x(),await de(()=>t.fetchCqpDetail(F),{onFinally:b})}async function ni(){y.value&&(x(),await de(async()=>{await t.deleteCqp(y.value),fe("Cqp eliminata correttamente"),await fn.replace({name:mn.CQP})},{onFinally:b}))}return Ee(()=>q.value,F=>{F&&Ve(F)}),Ee(()=>s.getCurrentUserPartner,F=>{y.value||v("partner_id",F?.id??"")},{immediate:!0}),Ee(he,F=>{y.value||i(!!F)}),Bn(async()=>{await Je(),y.value&&await ge(y.value)}),(F,ce)=>{const cn=N("Button"),si=N("Menu");return w(),E("form",{class:"flex-1 flex flex-col pt-8 px-8",onSubmit:ce[2]||(ce[2]=(...ye)=>h(j)&&h(j)(...ye))},[u("div",Gu,[u("div",Ju,[u("div",ju,[u("div",Ku,[u("h1",Xu,[Gn(D(y.value?`Richiesta ${h(W)??""}`:"Nuova CQP")+" ",1),u("span",null,D(y.value&&h(U)?.name?`- ${h(U)?.name}`:""),1)]),!y.value&&h(he)?(w(),E("small",ec,D(h(he)),1)):H("",!0)])]),u("div",tc,[y.value&&h(M)?(w(),E("div",nc,[u("span",{class:me(["status-dot",h(xi)[h(M)]])},null,2),u("span",sc,D(h(Ci)[h(M)]),1)])):H("",!0),d(cn,{icon:"pi pi-save",label:"Salva CQP",type:"submit",loading:l.value,severity:"primary"},null,8,["loading"]),d(cn,{type:"button",icon:"pi pi-ellipsis-v",onClick:Ot,severity:"secondary",rounded:""}),d(si,{ref_key:"menu",ref:r,model:[{label:"Elimina CQP",icon:"pi pi-trash",danger:!0,command:()=>{o.value=!0}},{label:"Estinzione totale",icon:"pi pi-box"}],popup:!0},{item:C(({item:ye,props:ii})=>[u("a",yi(ii.action,{class:{"text-red-500!":ye.danger}}),[u("span",{class:me(ye.icon)},null,2),u("span",null,D(ye.label),1)],16)]),_:1},8,["model"])])]),d(Oi,{tabs:[{label:"Assicurato",hasErrors:h(_).insurance},{label:"Beneficiario"},{label:"Dati di contratto",hasErrors:h(_).contract},{label:"Medico",hasErrors:h(_).doctor},{label:"Dichiarazioni",hasErrors:h(_).consents},...y.value?[{label:"Allegati"},{label:"Sinistro",hasErrors:m.value}]:[]],modelValue:a.value,"onUpdate:modelValue":ce[0]||(ce[0]=ye=>a.value=ye)},null,8,["tabs","modelValue"])]),u("div",ic,[ve(d(Do,null,null,512),[[be,a.value===0]]),ve(d(Po,null,null,512),[[be,a.value===1]]),ve(d(nl,null,null,512),[[be,a.value===2]]),ve(d(gl,null,null,512),[[be,a.value===3]]),ve(d(Sl,null,null,512),[[be,a.value===4]]),ve(d(su,null,null,512),[[be,a.value===5]]),q.value?ve((w(),B(Qu,{key:0,"cqp-practice":q.value},null,8,["cqp-practice"])),[[be,a.value===6]]):H("",!0)]),d(Xt,{visible:o.value,"onUpdate:visible":ce[1]||(ce[1]=ye=>o.value=ye),message:"Sei sicuro di voler eliminare questa CQP?","confirm-label":"Elimina",onConfirm:ni},null,8,["visible"])],32)}}});export{dc as default};
